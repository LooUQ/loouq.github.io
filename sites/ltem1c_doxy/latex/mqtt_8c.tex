\hypertarget{mqtt_8c}{}\doxysection{src/mqtt.c File Reference}
\label{mqtt_8c}\index{src/mqtt.c@{src/mqtt.c}}
{\ttfamily \#include \char`\"{}ltem1c.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{mqtt_8c_ae8e0f9e55bf5d2d770a649b78dc3f944}{W\+A\+I\+T\+\_\+\+S\+E\+C\+O\+N\+DS}}(timeout)~(timeout $\ast$ 1000)
\item 
\#define \mbox{\hyperlink{mqtt_8c_a74e75242132eaabbc1c512488a135926}{M\+IN}}(x,  y)~(((x) $<$ (y)) ? (x) \+: (y))
\item 
\#define \mbox{\hyperlink{mqtt_8c_af3cced492a5aef2f4e621446c507bd91}{M\+Q\+T\+T\+\_\+\+O\+P\+E\+N\+E\+D\+\_\+\+S\+T\+A\+T\+US}}~505
\item 
\#define \mbox{\hyperlink{mqtt_8c_a656aa42c1ef934ee07d2b952de61fd6e}{M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+S\+T\+A\+T\+US}}~503
\item 
\#define \mbox{\hyperlink{mqtt_8c_a94bd8feb474c42e2fc3750e98d7ac260}{A\+C\+T\+I\+O\+N\+\_\+\+C\+M\+D\+\_\+\+SZ}}~81
\item 
\#define \mbox{\hyperlink{mqtt_8c_adea463b2b2a94e9fdf462d5b63949325}{A\+C\+T\+I\+O\+N\+\_\+\+R\+S\+P\+\_\+\+SZ}}~81
\item 
\#define \mbox{\hyperlink{mqtt_8c_a36e2f44ed1d6e9dc8144d585ab15c4b2}{M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+C\+M\+D\+SZ}}~400
\item 
\#define \mbox{\hyperlink{mqtt_8c_ae496d583019bda0fc3d88db9bbe7aded}{M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+R\+S\+P\+SZ}}~81
\item 
\#define \mbox{\hyperlink{mqtt_8c_ad86d60736c0ec82a0ceeaf2da9cb7fe7}{M\+Q\+T\+T\+\_\+\+P\+U\+B\+S\+U\+B\+\_\+\+C\+M\+D\+SZ}}~(\mbox{\hyperlink{mqtt_8h_a92a0a7c82262c99f6e8dac90fc98c991}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+N\+A\+M\+E\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_a9965ae488cbe9f8f628a1cfeb0de4f29}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+R\+O\+P\+S\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_af81909ab3ca64b459fa95f3fa9c34984}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+U\+B\+O\+V\+R\+H\+D\+\_\+\+SZ}})
\item 
\#define \mbox{\hyperlink{mqtt_8c_aae28fa98e6b1b5231ca30a2996af98c0}{M\+Q\+T\+T\+\_\+\+P\+U\+B\+S\+U\+B\+\_\+\+R\+S\+P\+SZ}}~81
\item 
\#define \mbox{\hyperlink{mqtt_8c_ae8370b235c0ba262d7151bc3d09dd7e7}{M\+Q\+T\+T\+\_\+\+P\+U\+B\+L\+I\+S\+H\+\_\+\+T\+I\+M\+E\+O\+UT}}~15000
\item 
\#define \mbox{\hyperlink{mqtt_8c_a16bbc5fa1ad4df7f98da2f1dd7adc038}{P\+U\+B\+B\+U\+F\+\_\+\+SZ}}~(\mbox{\hyperlink{mqtt_8h_a92a0a7c82262c99f6e8dac90fc98c991}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+N\+A\+M\+E\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_a9965ae488cbe9f8f628a1cfeb0de4f29}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+R\+O\+P\+S\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_af81909ab3ca64b459fa95f3fa9c34984}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+U\+B\+O\+V\+R\+H\+D\+\_\+\+SZ}})
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{mqtt_8c_a8051af90648cef323dd3d207f477657b}{mqtt\+\_\+create}} ()
\begin{DoxyCompactList}\small\item\em Initialize the M\+Q\+TT service structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mqtt_8h_a148a3f73f6a3ee40ff17182f67586932}{mqtt\+Status\+\_\+t}} \mbox{\hyperlink{mqtt_8c_ae6eb878c9e21291c02914d7d858ae560}{mqtt\+\_\+status}} (const char $\ast$host)
\begin{DoxyCompactList}\small\item\em Query the status of the M\+Q\+TT server state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} \mbox{\hyperlink{mqtt_8c_a6549ca6e0ad06fe69fbca9fa865e15f1}{mqtt\+\_\+open}} (const char $\ast$host, uint16\+\_\+t port, \mbox{\hyperlink{mqtt_8h_af4fb66f436707c44f2e350dbc5108224}{ssl\+Version\+\_\+t}} use\+Ssl\+Version, \mbox{\hyperlink{mqtt_8h_af6396985642256a42f60af322da5124f}{mqtt\+Version\+\_\+t}} use\+Mqtt\+Version)
\begin{DoxyCompactList}\small\item\em Open a remote M\+Q\+TT server for use. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mqtt_8c_ad52f5ef51a9488dda1c573e26137371a}{mqtt\+\_\+close}} ()
\begin{DoxyCompactList}\small\item\em Disconnect and close a connection to a M\+Q\+TT server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} \mbox{\hyperlink{mqtt_8c_ac822866e75d60d51788f6a4514a375ec}{mqtt\+\_\+connect}} (const char $\ast$client\+Id, const char $\ast$username, const char $\ast$password, \mbox{\hyperlink{mqtt_8h_a455558a85512fdfa977572eae49314c0}{mqtt\+Session\+\_\+t}} session\+Clean)
\begin{DoxyCompactList}\small\item\em Connect (authenticate) to a M\+Q\+TT server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} \mbox{\hyperlink{mqtt_8c_a2362e1fabbeca14804f8c6498c252af2}{mqtt\+\_\+subscribe}} (const char $\ast$topic, \mbox{\hyperlink{mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}} qos, \mbox{\hyperlink{mqtt_8h_a98539737eefd41c88388bada5c4116b4}{mqtt\+\_\+recv\+Func\+\_\+t}} recv\+\_\+func)
\begin{DoxyCompactList}\small\item\em Subscribe to a topic on the M\+Q\+TT server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} \mbox{\hyperlink{mqtt_8c_a593a1f29a23660b911c5392a8d0f8cbf}{mqtt\+\_\+unsubscribe}} (const char $\ast$topic)
\begin{DoxyCompactList}\small\item\em Unsubscribe to a topic on the M\+Q\+TT server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} \mbox{\hyperlink{mqtt_8c_adc88fecb007d9e383518d98432d8697e}{mqtt\+\_\+publish}} (const char $\ast$topic, \mbox{\hyperlink{mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}} qos, const char $\ast$message)
\begin{DoxyCompactList}\small\item\em Publish a message to server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mqtt_8c_a2e7d6a65ee3363eae8283f57d686a4c4}{mqtt\+\_\+do\+Work}} ()
\begin{DoxyCompactList}\small\item\em Performs background tasks to advance M\+Q\+TT dataflows. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{mqtt_8c_a94bd8feb474c42e2fc3750e98d7ac260}\label{mqtt_8c_a94bd8feb474c42e2fc3750e98d7ac260}} 
\index{mqtt.c@{mqtt.c}!ACTION\_CMD\_SZ@{ACTION\_CMD\_SZ}}
\index{ACTION\_CMD\_SZ@{ACTION\_CMD\_SZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{ACTION\_CMD\_SZ}{ACTION\_CMD\_SZ}}
{\footnotesize\ttfamily \#define A\+C\+T\+I\+O\+N\+\_\+\+C\+M\+D\+\_\+\+SZ~81}

\mbox{\Hypertarget{mqtt_8c_adea463b2b2a94e9fdf462d5b63949325}\label{mqtt_8c_adea463b2b2a94e9fdf462d5b63949325}} 
\index{mqtt.c@{mqtt.c}!ACTION\_RSP\_SZ@{ACTION\_RSP\_SZ}}
\index{ACTION\_RSP\_SZ@{ACTION\_RSP\_SZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{ACTION\_RSP\_SZ}{ACTION\_RSP\_SZ}}
{\footnotesize\ttfamily \#define A\+C\+T\+I\+O\+N\+\_\+\+R\+S\+P\+\_\+\+SZ~81}

\mbox{\Hypertarget{mqtt_8c_a74e75242132eaabbc1c512488a135926}\label{mqtt_8c_a74e75242132eaabbc1c512488a135926}} 
\index{mqtt.c@{mqtt.c}!MIN@{MIN}}
\index{MIN@{MIN}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MIN}{MIN}}
{\footnotesize\ttfamily \#define M\+IN(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~(((x) $<$ (y)) ? (x) \+: (y))}

\mbox{\Hypertarget{mqtt_8c_a36e2f44ed1d6e9dc8144d585ab15c4b2}\label{mqtt_8c_a36e2f44ed1d6e9dc8144d585ab15c4b2}} 
\index{mqtt.c@{mqtt.c}!MQTT\_CONNECT\_CMDSZ@{MQTT\_CONNECT\_CMDSZ}}
\index{MQTT\_CONNECT\_CMDSZ@{MQTT\_CONNECT\_CMDSZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_CONNECT\_CMDSZ}{MQTT\_CONNECT\_CMDSZ}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+C\+M\+D\+SZ~400}

\mbox{\Hypertarget{mqtt_8c_ae496d583019bda0fc3d88db9bbe7aded}\label{mqtt_8c_ae496d583019bda0fc3d88db9bbe7aded}} 
\index{mqtt.c@{mqtt.c}!MQTT\_CONNECT\_RSPSZ@{MQTT\_CONNECT\_RSPSZ}}
\index{MQTT\_CONNECT\_RSPSZ@{MQTT\_CONNECT\_RSPSZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_CONNECT\_RSPSZ}{MQTT\_CONNECT\_RSPSZ}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+R\+S\+P\+SZ~81}

\mbox{\Hypertarget{mqtt_8c_a656aa42c1ef934ee07d2b952de61fd6e}\label{mqtt_8c_a656aa42c1ef934ee07d2b952de61fd6e}} 
\index{mqtt.c@{mqtt.c}!MQTT\_CONNECTED\_STATUS@{MQTT\_CONNECTED\_STATUS}}
\index{MQTT\_CONNECTED\_STATUS@{MQTT\_CONNECTED\_STATUS}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_CONNECTED\_STATUS}{MQTT\_CONNECTED\_STATUS}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+S\+T\+A\+T\+US~503}

\mbox{\Hypertarget{mqtt_8c_af3cced492a5aef2f4e621446c507bd91}\label{mqtt_8c_af3cced492a5aef2f4e621446c507bd91}} 
\index{mqtt.c@{mqtt.c}!MQTT\_OPENED\_STATUS@{MQTT\_OPENED\_STATUS}}
\index{MQTT\_OPENED\_STATUS@{MQTT\_OPENED\_STATUS}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_OPENED\_STATUS}{MQTT\_OPENED\_STATUS}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+O\+P\+E\+N\+E\+D\+\_\+\+S\+T\+A\+T\+US~505}

\mbox{\Hypertarget{mqtt_8c_ae8370b235c0ba262d7151bc3d09dd7e7}\label{mqtt_8c_ae8370b235c0ba262d7151bc3d09dd7e7}} 
\index{mqtt.c@{mqtt.c}!MQTT\_PUBLISH\_TIMEOUT@{MQTT\_PUBLISH\_TIMEOUT}}
\index{MQTT\_PUBLISH\_TIMEOUT@{MQTT\_PUBLISH\_TIMEOUT}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_PUBLISH\_TIMEOUT}{MQTT\_PUBLISH\_TIMEOUT}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+P\+U\+B\+L\+I\+S\+H\+\_\+\+T\+I\+M\+E\+O\+UT~15000}

\mbox{\Hypertarget{mqtt_8c_ad86d60736c0ec82a0ceeaf2da9cb7fe7}\label{mqtt_8c_ad86d60736c0ec82a0ceeaf2da9cb7fe7}} 
\index{mqtt.c@{mqtt.c}!MQTT\_PUBSUB\_CMDSZ@{MQTT\_PUBSUB\_CMDSZ}}
\index{MQTT\_PUBSUB\_CMDSZ@{MQTT\_PUBSUB\_CMDSZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_PUBSUB\_CMDSZ}{MQTT\_PUBSUB\_CMDSZ}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+P\+U\+B\+S\+U\+B\+\_\+\+C\+M\+D\+SZ~(\mbox{\hyperlink{mqtt_8h_a92a0a7c82262c99f6e8dac90fc98c991}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+N\+A\+M\+E\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_a9965ae488cbe9f8f628a1cfeb0de4f29}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+R\+O\+P\+S\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_af81909ab3ca64b459fa95f3fa9c34984}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+U\+B\+O\+V\+R\+H\+D\+\_\+\+SZ}})}

\mbox{\Hypertarget{mqtt_8c_aae28fa98e6b1b5231ca30a2996af98c0}\label{mqtt_8c_aae28fa98e6b1b5231ca30a2996af98c0}} 
\index{mqtt.c@{mqtt.c}!MQTT\_PUBSUB\_RSPSZ@{MQTT\_PUBSUB\_RSPSZ}}
\index{MQTT\_PUBSUB\_RSPSZ@{MQTT\_PUBSUB\_RSPSZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{MQTT\_PUBSUB\_RSPSZ}{MQTT\_PUBSUB\_RSPSZ}}
{\footnotesize\ttfamily \#define M\+Q\+T\+T\+\_\+\+P\+U\+B\+S\+U\+B\+\_\+\+R\+S\+P\+SZ~81}

\mbox{\Hypertarget{mqtt_8c_a16bbc5fa1ad4df7f98da2f1dd7adc038}\label{mqtt_8c_a16bbc5fa1ad4df7f98da2f1dd7adc038}} 
\index{mqtt.c@{mqtt.c}!PUBBUF\_SZ@{PUBBUF\_SZ}}
\index{PUBBUF\_SZ@{PUBBUF\_SZ}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{PUBBUF\_SZ}{PUBBUF\_SZ}}
{\footnotesize\ttfamily \#define P\+U\+B\+B\+U\+F\+\_\+\+SZ~(\mbox{\hyperlink{mqtt_8h_a92a0a7c82262c99f6e8dac90fc98c991}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+N\+A\+M\+E\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_a9965ae488cbe9f8f628a1cfeb0de4f29}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+R\+O\+P\+S\+\_\+\+SZ}} + \mbox{\hyperlink{mqtt_8h_af81909ab3ca64b459fa95f3fa9c34984}{M\+Q\+T\+T\+\_\+\+T\+O\+P\+I\+C\+\_\+\+P\+U\+B\+O\+V\+R\+H\+D\+\_\+\+SZ}})}

\mbox{\Hypertarget{mqtt_8c_ae8e0f9e55bf5d2d770a649b78dc3f944}\label{mqtt_8c_ae8e0f9e55bf5d2d770a649b78dc3f944}} 
\index{mqtt.c@{mqtt.c}!WAIT\_SECONDS@{WAIT\_SECONDS}}
\index{WAIT\_SECONDS@{WAIT\_SECONDS}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{WAIT\_SECONDS}{WAIT\_SECONDS}}
{\footnotesize\ttfamily \#define W\+A\+I\+T\+\_\+\+S\+E\+C\+O\+N\+DS(\begin{DoxyParamCaption}\item[{}]{timeout }\end{DoxyParamCaption})~(timeout $\ast$ 1000)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mqtt_8c_ad52f5ef51a9488dda1c573e26137371a}\label{mqtt_8c_ad52f5ef51a9488dda1c573e26137371a}} 
\index{mqtt.c@{mqtt.c}!mqtt\_close@{mqtt\_close}}
\index{mqtt\_close@{mqtt\_close}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_close()}{mqtt\_close()}}
{\footnotesize\ttfamily void mqtt\+\_\+close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Disconnect and close a connection to a M\+Q\+TT server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em socket\+Id} & -\/ The socket based identifier for the connection to close \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mqtt_8c_ac822866e75d60d51788f6a4514a375ec}\label{mqtt_8c_ac822866e75d60d51788f6a4514a375ec}} 
\index{mqtt.c@{mqtt.c}!mqtt\_connect@{mqtt\_connect}}
\index{mqtt\_connect@{mqtt\_connect}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_connect()}{mqtt\_connect()}}
{\footnotesize\ttfamily \mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} mqtt\+\_\+connect (\begin{DoxyParamCaption}\item[{const char $\ast$}]{client\+Id,  }\item[{const char $\ast$}]{username,  }\item[{const char $\ast$}]{password,  }\item[{\mbox{\hyperlink{mqtt_8h_a455558a85512fdfa977572eae49314c0}{mqtt\+Session\+\_\+t}}}]{session\+Clean }\end{DoxyParamCaption})}



Connect (authenticate) to a M\+Q\+TT server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em client\+Id} & -\/ The client or device identifier for the connection. \\
\hline
\mbox{\texttt{ in}}  & {\em username} & -\/ The user identifier or name for the connection to authenticate. \\
\hline
\mbox{\texttt{ in}}  & {\em password} & -\/ The secret string or phrase to authenticate the connection. \\
\hline
\mbox{\texttt{ in}}  & {\em session\+Clean} & -\/ Directs M\+Q\+TT to preserve or flush messages received prior to the session start.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A socket\+Result\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{mqtt_8c_a8051af90648cef323dd3d207f477657b}\label{mqtt_8c_a8051af90648cef323dd3d207f477657b}} 
\index{mqtt.c@{mqtt.c}!mqtt\_create@{mqtt\_create}}
\index{mqtt\_create@{mqtt\_create}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_create()}{mqtt\_create()}}
{\footnotesize\ttfamily void mqtt\+\_\+create (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize the M\+Q\+TT service structure. 

\mbox{\Hypertarget{mqtt_8c_a2e7d6a65ee3363eae8283f57d686a4c4}\label{mqtt_8c_a2e7d6a65ee3363eae8283f57d686a4c4}} 
\index{mqtt.c@{mqtt.c}!mqtt\_doWork@{mqtt\_doWork}}
\index{mqtt\_doWork@{mqtt\_doWork}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_doWork()}{mqtt\_doWork()}}
{\footnotesize\ttfamily void mqtt\+\_\+do\+Work (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Performs background tasks to advance M\+Q\+TT dataflows. 

\mbox{\Hypertarget{mqtt_8c_a6549ca6e0ad06fe69fbca9fa865e15f1}\label{mqtt_8c_a6549ca6e0ad06fe69fbca9fa865e15f1}} 
\index{mqtt.c@{mqtt.c}!mqtt\_open@{mqtt\_open}}
\index{mqtt\_open@{mqtt\_open}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_open()}{mqtt\_open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} mqtt\+\_\+open (\begin{DoxyParamCaption}\item[{const char $\ast$}]{host,  }\item[{uint16\+\_\+t}]{port,  }\item[{\mbox{\hyperlink{mqtt_8h_af4fb66f436707c44f2e350dbc5108224}{ssl\+Version\+\_\+t}}}]{use\+Ssl\+Version,  }\item[{\mbox{\hyperlink{mqtt_8h_af6396985642256a42f60af322da5124f}{mqtt\+Version\+\_\+t}}}]{use\+Mqtt\+Version }\end{DoxyParamCaption})}



Open a remote M\+Q\+TT server for use. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em host} & -\/ The host IP address or name of the remote server. \\
\hline
\mbox{\texttt{ in}}  & {\em port} & -\/ The IP port number to use for the communications. \\
\hline
\mbox{\texttt{ in}}  & {\em use\+Ssl\+Version} & -\/ Specifies the version and options for use of S\+SL to protect communications. \\
\hline
\mbox{\texttt{ in}}  & {\em use\+Mqtt\+Version} & -\/ Specifies the M\+Q\+TT protocol revision to use for communications.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A socket\+Result\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{mqtt_8c_adc88fecb007d9e383518d98432d8697e}\label{mqtt_8c_adc88fecb007d9e383518d98432d8697e}} 
\index{mqtt.c@{mqtt.c}!mqtt\_publish@{mqtt\_publish}}
\index{mqtt\_publish@{mqtt\_publish}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_publish()}{mqtt\_publish()}}
{\footnotesize\ttfamily \mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} mqtt\+\_\+publish (\begin{DoxyParamCaption}\item[{const char $\ast$}]{topic,  }\item[{\mbox{\hyperlink{mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}}}]{qos,  }\item[{const char $\ast$}]{message }\end{DoxyParamCaption})}



Publish a message to server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em $\ast$topic} & -\/ The topic to receive the message on the server. \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & -\/ The M\+Q\+TT Q\+OS to be assigned to sent message. \\
\hline
\mbox{\texttt{ in}}  & {\em $\ast$message} & -\/ Pointer to message to be sent.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A socket\+Result\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{mqtt_8c_ae6eb878c9e21291c02914d7d858ae560}\label{mqtt_8c_ae6eb878c9e21291c02914d7d858ae560}} 
\index{mqtt.c@{mqtt.c}!mqtt\_status@{mqtt\_status}}
\index{mqtt\_status@{mqtt\_status}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_status()}{mqtt\_status()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mqtt_8h_a148a3f73f6a3ee40ff17182f67586932}{mqtt\+Status\+\_\+t}} mqtt\+\_\+status (\begin{DoxyParamCaption}\item[{const char $\ast$}]{host }\end{DoxyParamCaption})}



Query the status of the M\+Q\+TT server state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em host} & -\/ (optional) A char string to match with the currently connected server. Host is not checked if null string passed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A mqtt\+Status\+\_\+t value indicating the state of the M\+Q\+TT connection. 
\end{DoxyReturn}
\mbox{\Hypertarget{mqtt_8c_a2362e1fabbeca14804f8c6498c252af2}\label{mqtt_8c_a2362e1fabbeca14804f8c6498c252af2}} 
\index{mqtt.c@{mqtt.c}!mqtt\_subscribe@{mqtt\_subscribe}}
\index{mqtt\_subscribe@{mqtt\_subscribe}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_subscribe()}{mqtt\_subscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} mqtt\+\_\+subscribe (\begin{DoxyParamCaption}\item[{const char $\ast$}]{topic,  }\item[{\mbox{\hyperlink{mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}}}]{qos,  }\item[{\mbox{\hyperlink{mqtt_8h_a98539737eefd41c88388bada5c4116b4}{mqtt\+\_\+recv\+Func\+\_\+t}}}]{recv\+\_\+func }\end{DoxyParamCaption})}



Subscribe to a topic on the M\+Q\+TT server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em topic} & -\/ The messaging topic to subscribe to. \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & -\/ The Q\+OS level for messages subscribed to. \\
\hline
\mbox{\texttt{ in}}  & {\em recv\+\_\+func} & -\/ The receiver function in the application to receive subscribed messages on arrival.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A socket\+Result\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{mqtt_8c_a593a1f29a23660b911c5392a8d0f8cbf}\label{mqtt_8c_a593a1f29a23660b911c5392a8d0f8cbf}} 
\index{mqtt.c@{mqtt.c}!mqtt\_unsubscribe@{mqtt\_unsubscribe}}
\index{mqtt\_unsubscribe@{mqtt\_unsubscribe}!mqtt.c@{mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_unsubscribe()}{mqtt\_unsubscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{sockets_8h_ab7cf20e66a2d8ef88c5befa4f4bf8276}{socket\+Result\+\_\+t}} mqtt\+\_\+unsubscribe (\begin{DoxyParamCaption}\item[{const char $\ast$}]{topic }\end{DoxyParamCaption})}



Unsubscribe to a topic on the M\+Q\+TT server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em topic} & -\/ The messaging topic to unsubscribe from.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A socket\+Result\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
