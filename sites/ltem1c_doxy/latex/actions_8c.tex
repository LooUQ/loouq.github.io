\hypertarget{actions_8c}{}\doxysection{src/actions.c File Reference}
\label{actions_8c}\index{src/actions.c@{src/actions.c}}
{\ttfamily \#include \char`\"{}ltem1c.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{actions_8c_a74e75242132eaabbc1c512488a135926}{M\+IN}}(x,  y)~(((x) $<$ (y)) ? (x) \+: (y))
\item 
\#define \mbox{\hyperlink{actions_8c_a94cc840dcfa6352171624a582482388d}{O\+K\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG}}~\char`\"{}O\+K\textbackslash{}r\textbackslash{}n\char`\"{}
\item 
\#define \mbox{\hyperlink{actions_8c_a61021f847281b56ea58bf62fa421061d}{O\+K\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+L\+E\+N\+G\+TH}}~4
\item 
\#define \mbox{\hyperlink{actions_8c_a20116255539ab082c58248c00cbb36ba}{E\+R\+R\+O\+R\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG}}~\char`\"{}E\+R\+R\+O\+R\textbackslash{}r\textbackslash{}n\char`\"{}
\item 
\#define \mbox{\hyperlink{actions_8c_a8c49c0f4290754765420ae8ad5316539}{E\+R\+R\+O\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET}}~7
\item 
\#define \mbox{\hyperlink{actions_8c_a20d2a6d95d789c924e9e74a8f7c2c991}{F\+A\+I\+L\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG}}~\char`\"{}F\+A\+I\+L\textbackslash{}r\textbackslash{}n\char`\"{}
\item 
\#define \mbox{\hyperlink{actions_8c_ace598580dddcfcf0a3143f9e41e7e0ee}{F\+A\+I\+L\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET}}~6
\item 
\#define \mbox{\hyperlink{actions_8c_adcf9a32c660a637d958ea362ea696067}{N\+O\+C\+A\+R\+R\+I\+E\+R\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG}}~\char`\"{}NO C\+A\+R\+R\+I\+E\+R\textbackslash{}r\textbackslash{}n\char`\"{}
\item 
\#define \mbox{\hyperlink{actions_8c_aa5cfa513a4c3c7e0a4824167cbeea971}{N\+O\+C\+A\+R\+R\+I\+E\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET}}~12
\item 
\#define \mbox{\hyperlink{actions_8c_a8315e0406778f049b10b6e1542611d18}{C\+M\+E\+\_\+\+P\+R\+E\+A\+B\+LE}}~\char`\"{}+C\+ME E\+R\+R\+O\+R\+:\char`\"{}
\item 
\#define \mbox{\hyperlink{actions_8c_a6d21a0d0e06c4be265da23cc37011d9b}{C\+M\+E\+\_\+\+P\+R\+E\+A\+B\+L\+E\+\_\+\+SZ}}~11
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{actions_8c_ad900c7fe409458bdff8b72e09828b490}{action\+\_\+close}} ()
\begin{DoxyCompactList}\small\item\em Closes (completes) a Bgx AT command structure and frees action resource (release action lock). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{actions_8c_aeffecde3975bac07ef8977ca60ccdb47}{action\+\_\+try\+Invoke}} (const char $\ast$cmd\+Str)
\begin{DoxyCompactList}\small\item\em Invokes a B\+Gx AT command with default action values. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{actions_8c_ae950676c877c6390a7167338a58c15e0}{action\+\_\+try\+Invoke\+Adv}} (const char $\ast$cmd\+Str, uint8\+\_\+t retries, uint16\+\_\+t timeout, uint16\+\_\+t($\ast$task\+Complete\+Parser)(const char $\ast$response, char $\ast$$\ast$endptr))
\begin{DoxyCompactList}\small\item\em Invokes a B\+Gx AT command with application specified action values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{actions_8c_af58416862c6759de1ce45f423a048658}{action\+\_\+send\+Raw}} (const char $\ast$data, uint16\+\_\+t data\+Sz, uint16\+\_\+t timeout\+Millis, uint16\+\_\+t($\ast$task\+Complete\+Parser\+\_\+func)(const char $\ast$response, char $\ast$$\ast$endptr))
\begin{DoxyCompactList}\small\item\em Performs data transfer (send) sub-\/action. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{actions_8c_a313480e67e5f770161804fe2b6da9574}{action\+\_\+send\+Raw\+With\+E\+O\+Ts}} (const char $\ast$data, uint16\+\_\+t data\+Sz, const char $\ast$eot\+Phrase, uint16\+\_\+t timeout\+Millis, uint16\+\_\+t($\ast$task\+Complete\+Parser\+\_\+func)(const char $\ast$response, char $\ast$$\ast$endptr))
\begin{DoxyCompactList}\small\item\em Performs data transfer (send) sub-\/action. \end{DoxyCompactList}\item 
\mbox{\hyperlink{actions_8h_ae712b701323ddcdad6db94073bf45530}{action\+Result\+\_\+t}} \mbox{\hyperlink{actions_8c_a0ee7f4cd6c9b90092e25b7b4a4d50be1}{action\+\_\+await\+Result}} (bool close\+Action)
\begin{DoxyCompactList}\small\item\em Waits for an AT command result until completed response or timeout. \end{DoxyCompactList}\item 
\mbox{\hyperlink{actions_8h_ae712b701323ddcdad6db94073bf45530}{action\+Result\+\_\+t}} \mbox{\hyperlink{actions_8c_a5c2c186297b1fa683dfa7f807dc211f8}{action\+\_\+get\+Result}} (bool close\+Action)
\begin{DoxyCompactList}\small\item\em Gets command response and returns immediately. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} \mbox{\hyperlink{actions_8c_ac48633c3f2c3e60e86abd2d08d64374a}{action\+\_\+default\+Result\+Parser}} (const char $\ast$response, const char $\ast$preamble, bool preamble\+Reqd, uint8\+\_\+t gap\+Reqd, const char $\ast$terminator, char $\ast$$\ast$endptr)
\begin{DoxyCompactList}\small\item\em Performs a standardized parse of command responses. This function can be wrapped to match atcmd command\+Completed\+Parse signature. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} \mbox{\hyperlink{actions_8c_a905333ceb23800696a33acc11dab7a0d}{action\+\_\+token\+Result\+Parser}} (const char $\ast$response, const char $\ast$preamble, char delim, uint8\+\_\+t reqd\+Tokens, const char $\ast$terminator, char $\ast$$\ast$endptr)
\begin{DoxyCompactList}\small\item\em Performs a standardized parse of command responses. This function can be wrapped to match atcmd command\+Completed\+Parse signature. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} \mbox{\hyperlink{actions_8c_abb10c49a8c22f9660ab5c2e0885552e3}{action\+\_\+ok\+Result\+Parser}} (const char $\ast$response, char $\ast$$\ast$endptr)
\begin{DoxyCompactList}\small\item\em Validate the response ends in a B\+Gxx OK value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} \mbox{\hyperlink{actions_8c_a12978da1cd17c327b4b12de03ff524cb}{action\+\_\+service\+Response\+Parser}} (const char $\ast$response, const char $\ast$preamble, uint8\+\_\+t result\+Indx, char $\ast$$\ast$endptr)
\begin{DoxyCompactList}\small\item\em Parser for open connection response, shared by U\+D\+P/\+T\+C\+P/\+S\+SL. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{actions_8c_a657dc5291edd9a7e48c2866aac75ea73}{action\+\_\+str\+Token}} (char $\ast$source, int delimiter, char $\ast$token, uint8\+\_\+t token\+Max)
\begin{DoxyCompactList}\small\item\em C-\/string token grabber. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{actions_8c_a4ebff35eeb105c5536cdb994d11d2573}{actn\+\_\+acquire\+Lock}} (const char $\ast$cmd\+Str, uint8\+\_\+t retries)
\begin{DoxyCompactList}\small\item\em Attempts to get exclusive access to Q\+BG module command interface. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{actions_8c_a8315e0406778f049b10b6e1542611d18}\label{actions_8c_a8315e0406778f049b10b6e1542611d18}} 
\index{actions.c@{actions.c}!CME\_PREABLE@{CME\_PREABLE}}
\index{CME\_PREABLE@{CME\_PREABLE}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{CME\_PREABLE}{CME\_PREABLE}}
{\footnotesize\ttfamily \#define C\+M\+E\+\_\+\+P\+R\+E\+A\+B\+LE~\char`\"{}+C\+ME E\+R\+R\+O\+R\+:\char`\"{}}

\mbox{\Hypertarget{actions_8c_a6d21a0d0e06c4be265da23cc37011d9b}\label{actions_8c_a6d21a0d0e06c4be265da23cc37011d9b}} 
\index{actions.c@{actions.c}!CME\_PREABLE\_SZ@{CME\_PREABLE\_SZ}}
\index{CME\_PREABLE\_SZ@{CME\_PREABLE\_SZ}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{CME\_PREABLE\_SZ}{CME\_PREABLE\_SZ}}
{\footnotesize\ttfamily \#define C\+M\+E\+\_\+\+P\+R\+E\+A\+B\+L\+E\+\_\+\+SZ~11}

\mbox{\Hypertarget{actions_8c_a20116255539ab082c58248c00cbb36ba}\label{actions_8c_a20116255539ab082c58248c00cbb36ba}} 
\index{actions.c@{actions.c}!ERROR\_COMPLETED\_STRING@{ERROR\_COMPLETED\_STRING}}
\index{ERROR\_COMPLETED\_STRING@{ERROR\_COMPLETED\_STRING}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{ERROR\_COMPLETED\_STRING}{ERROR\_COMPLETED\_STRING}}
{\footnotesize\ttfamily \#define E\+R\+R\+O\+R\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG~\char`\"{}E\+R\+R\+O\+R\textbackslash{}r\textbackslash{}n\char`\"{}}

\mbox{\Hypertarget{actions_8c_a8c49c0f4290754765420ae8ad5316539}\label{actions_8c_a8c49c0f4290754765420ae8ad5316539}} 
\index{actions.c@{actions.c}!ERROR\_VALUE\_OFFSET@{ERROR\_VALUE\_OFFSET}}
\index{ERROR\_VALUE\_OFFSET@{ERROR\_VALUE\_OFFSET}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{ERROR\_VALUE\_OFFSET}{ERROR\_VALUE\_OFFSET}}
{\footnotesize\ttfamily \#define E\+R\+R\+O\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET~7}

\mbox{\Hypertarget{actions_8c_a20d2a6d95d789c924e9e74a8f7c2c991}\label{actions_8c_a20d2a6d95d789c924e9e74a8f7c2c991}} 
\index{actions.c@{actions.c}!FAIL\_COMPLETED\_STRING@{FAIL\_COMPLETED\_STRING}}
\index{FAIL\_COMPLETED\_STRING@{FAIL\_COMPLETED\_STRING}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{FAIL\_COMPLETED\_STRING}{FAIL\_COMPLETED\_STRING}}
{\footnotesize\ttfamily \#define F\+A\+I\+L\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG~\char`\"{}F\+A\+I\+L\textbackslash{}r\textbackslash{}n\char`\"{}}

\mbox{\Hypertarget{actions_8c_ace598580dddcfcf0a3143f9e41e7e0ee}\label{actions_8c_ace598580dddcfcf0a3143f9e41e7e0ee}} 
\index{actions.c@{actions.c}!FAIL\_VALUE\_OFFSET@{FAIL\_VALUE\_OFFSET}}
\index{FAIL\_VALUE\_OFFSET@{FAIL\_VALUE\_OFFSET}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{FAIL\_VALUE\_OFFSET}{FAIL\_VALUE\_OFFSET}}
{\footnotesize\ttfamily \#define F\+A\+I\+L\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET~6}

\mbox{\Hypertarget{actions_8c_a74e75242132eaabbc1c512488a135926}\label{actions_8c_a74e75242132eaabbc1c512488a135926}} 
\index{actions.c@{actions.c}!MIN@{MIN}}
\index{MIN@{MIN}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{MIN}{MIN}}
{\footnotesize\ttfamily \#define M\+IN(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~(((x) $<$ (y)) ? (x) \+: (y))}

\mbox{\Hypertarget{actions_8c_adcf9a32c660a637d958ea362ea696067}\label{actions_8c_adcf9a32c660a637d958ea362ea696067}} 
\index{actions.c@{actions.c}!NOCARRIER\_COMPLETED\_STRING@{NOCARRIER\_COMPLETED\_STRING}}
\index{NOCARRIER\_COMPLETED\_STRING@{NOCARRIER\_COMPLETED\_STRING}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{NOCARRIER\_COMPLETED\_STRING}{NOCARRIER\_COMPLETED\_STRING}}
{\footnotesize\ttfamily \#define N\+O\+C\+A\+R\+R\+I\+E\+R\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG~\char`\"{}NO C\+A\+R\+R\+I\+E\+R\textbackslash{}r\textbackslash{}n\char`\"{}}

\mbox{\Hypertarget{actions_8c_aa5cfa513a4c3c7e0a4824167cbeea971}\label{actions_8c_aa5cfa513a4c3c7e0a4824167cbeea971}} 
\index{actions.c@{actions.c}!NOCARRIER\_VALUE\_OFFSET@{NOCARRIER\_VALUE\_OFFSET}}
\index{NOCARRIER\_VALUE\_OFFSET@{NOCARRIER\_VALUE\_OFFSET}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{NOCARRIER\_VALUE\_OFFSET}{NOCARRIER\_VALUE\_OFFSET}}
{\footnotesize\ttfamily \#define N\+O\+C\+A\+R\+R\+I\+E\+R\+\_\+\+V\+A\+L\+U\+E\+\_\+\+O\+F\+F\+S\+ET~12}

\mbox{\Hypertarget{actions_8c_a61021f847281b56ea58bf62fa421061d}\label{actions_8c_a61021f847281b56ea58bf62fa421061d}} 
\index{actions.c@{actions.c}!OK\_COMPLETED\_LENGTH@{OK\_COMPLETED\_LENGTH}}
\index{OK\_COMPLETED\_LENGTH@{OK\_COMPLETED\_LENGTH}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{OK\_COMPLETED\_LENGTH}{OK\_COMPLETED\_LENGTH}}
{\footnotesize\ttfamily \#define O\+K\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+L\+E\+N\+G\+TH~4}

\mbox{\Hypertarget{actions_8c_a94cc840dcfa6352171624a582482388d}\label{actions_8c_a94cc840dcfa6352171624a582482388d}} 
\index{actions.c@{actions.c}!OK\_COMPLETED\_STRING@{OK\_COMPLETED\_STRING}}
\index{OK\_COMPLETED\_STRING@{OK\_COMPLETED\_STRING}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{OK\_COMPLETED\_STRING}{OK\_COMPLETED\_STRING}}
{\footnotesize\ttfamily \#define O\+K\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E\+D\+\_\+\+S\+T\+R\+I\+NG~\char`\"{}O\+K\textbackslash{}r\textbackslash{}n\char`\"{}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{actions_8c_a0ee7f4cd6c9b90092e25b7b4a4d50be1}\label{actions_8c_a0ee7f4cd6c9b90092e25b7b4a4d50be1}} 
\index{actions.c@{actions.c}!action\_awaitResult@{action\_awaitResult}}
\index{action\_awaitResult@{action\_awaitResult}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_awaitResult()}{action\_awaitResult()}}
{\footnotesize\ttfamily \mbox{\hyperlink{actions_8h_ae712b701323ddcdad6db94073bf45530}{action\+Result\+\_\+t}} action\+\_\+await\+Result (\begin{DoxyParamCaption}\item[{bool}]{close\+Action }\end{DoxyParamCaption})}



Waits for an AT command result until completed response or timeout. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em close\+Action} & \+: U\+SE W\+I\+TH C\+A\+U\+T\+I\+ON -\/ On result, close the action. The caller only needs the status code.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Action result. W\+A\+R\+N\+I\+NG -\/ the action\+Result.\+response validity is undetermined after close. 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_ad900c7fe409458bdff8b72e09828b490}\label{actions_8c_ad900c7fe409458bdff8b72e09828b490}} 
\index{actions.c@{actions.c}!action\_close@{action\_close}}
\index{action\_close@{action\_close}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_close()}{action\_close()}}
{\footnotesize\ttfamily void action\+\_\+close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Closes (completes) a Bgx AT command structure and frees action resource (release action lock). 

\mbox{\Hypertarget{actions_8c_ac48633c3f2c3e60e86abd2d08d64374a}\label{actions_8c_ac48633c3f2c3e60e86abd2d08d64374a}} 
\index{actions.c@{actions.c}!action\_defaultResultParser@{action\_defaultResultParser}}
\index{action\_defaultResultParser@{action\_defaultResultParser}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_defaultResultParser()}{action\_defaultResultParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} action\+\_\+default\+Result\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{response,  }\item[{const char $\ast$}]{preamble,  }\item[{bool}]{preamble\+Reqd,  }\item[{uint8\+\_\+t}]{gap\+Reqd,  }\item[{const char $\ast$}]{terminator,  }\item[{char $\ast$$\ast$}]{endptr }\end{DoxyParamCaption})}



Performs a standardized parse of command responses. This function can be wrapped to match atcmd command\+Completed\+Parse signature. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em response} & -\/ The string returned from the get\+Result function. \\
\hline
\mbox{\texttt{ in}}  & {\em preamble} & -\/ The string to look for to signal start of response match. \\
\hline
\mbox{\texttt{ in}}  & {\em preamble\+Reqd} & -\/ The preamble string is required, set to false to search for only gap and terminator \\
\hline
\mbox{\texttt{ in}}  & {\em gap\+Reqd} & -\/ The min. char count between preamble (or start) and terminator (0 is valid). \\
\hline
\mbox{\texttt{ in}}  & {\em terminator} & -\/ The string to signal the end of the command response. \\
\hline
\mbox{\texttt{ out}}  & {\em endptr} & -\/ Char pointer to the next char in response after parser match\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+T\+TP style result code, 0 if parser incomplete (need more response). 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_a5c2c186297b1fa683dfa7f807dc211f8}\label{actions_8c_a5c2c186297b1fa683dfa7f807dc211f8}} 
\index{actions.c@{actions.c}!action\_getResult@{action\_getResult}}
\index{action\_getResult@{action\_getResult}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_getResult()}{action\_getResult()}}
{\footnotesize\ttfamily \mbox{\hyperlink{actions_8h_ae712b701323ddcdad6db94073bf45530}{action\+Result\+\_\+t}} action\+\_\+get\+Result (\begin{DoxyParamCaption}\item[{bool}]{close\+Action }\end{DoxyParamCaption})}



Gets command response and returns immediately. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em close\+Action} & \+: U\+SE W\+I\+TH C\+A\+U\+T\+I\+ON -\/ On result, close the action. The caller only needs the status code.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Action result. W\+A\+R\+N\+I\+NG -\/ the action\+Result.\+response validity is undetermined after close. 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_abb10c49a8c22f9660ab5c2e0885552e3}\label{actions_8c_abb10c49a8c22f9660ab5c2e0885552e3}} 
\index{actions.c@{actions.c}!action\_okResultParser@{action\_okResultParser}}
\index{action\_okResultParser@{action\_okResultParser}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_okResultParser()}{action\_okResultParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} action\+\_\+ok\+Result\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{response,  }\item[{char $\ast$$\ast$}]{endptr }\end{DoxyParamCaption})}



Validate the response ends in a B\+Gxx OK value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em response} & -\/ Pointer to the command response received from the B\+Gx. \\
\hline
\mbox{\texttt{ out}}  & {\em endptr} & -\/ Char pointer to the next char in response after parser match\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool If the response string ends in a valid OK sequence 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_af58416862c6759de1ce45f423a048658}\label{actions_8c_af58416862c6759de1ce45f423a048658}} 
\index{actions.c@{actions.c}!action\_sendRaw@{action\_sendRaw}}
\index{action\_sendRaw@{action\_sendRaw}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_sendRaw()}{action\_sendRaw()}}
{\footnotesize\ttfamily void action\+\_\+send\+Raw (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{uint16\+\_\+t}]{data\+Sz,  }\item[{uint16\+\_\+t}]{timeout\+Millis,  }\item[{uint16\+\_\+t($\ast$)(const char $\ast$response, char $\ast$$\ast$endptr)}]{task\+Complete\+Parser\+\_\+func }\end{DoxyParamCaption})}



Performs data transfer (send) sub-\/action. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & -\/ Pointer to the block of binary data to send. \\
\hline
\mbox{\texttt{ in}}  & {\em data\+Sz} & -\/ The size of the data block. \\
\hline
\mbox{\texttt{ in}}  & {\em timeout\+Millis} & -\/ Timeout period (in millisecs) for send to complete. \\
\hline
\mbox{\texttt{ in}}  & {\em task\+Complete\+Parser\+\_\+func} & -\/ Function pointer to parser looking for task completion \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{actions_8c_a313480e67e5f770161804fe2b6da9574}\label{actions_8c_a313480e67e5f770161804fe2b6da9574}} 
\index{actions.c@{actions.c}!action\_sendRawWithEOTs@{action\_sendRawWithEOTs}}
\index{action\_sendRawWithEOTs@{action\_sendRawWithEOTs}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_sendRawWithEOTs()}{action\_sendRawWithEOTs()}}
{\footnotesize\ttfamily void action\+\_\+send\+Raw\+With\+E\+O\+Ts (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{uint16\+\_\+t}]{data\+Sz,  }\item[{const char $\ast$}]{eot\+Phrase,  }\item[{uint16\+\_\+t}]{timeout\+Millis,  }\item[{uint16\+\_\+t($\ast$)(const char $\ast$response, char $\ast$$\ast$endptr)}]{task\+Complete\+Parser\+\_\+func }\end{DoxyParamCaption})}



Performs data transfer (send) sub-\/action. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & -\/ Pointer to the block of binary data to send. \\
\hline
\mbox{\texttt{ in}}  & {\em data\+Sz} & -\/ The size of the data block. \\
\hline
\mbox{\texttt{ in}}  & {\em eot\+Phrase} & -\/ Char string that is sent a the end-\/of-\/transmission. \\
\hline
\mbox{\texttt{ in}}  & {\em timeout\+Millis} & -\/ Timeout period (in millisecs) for send to complete. \\
\hline
\mbox{\texttt{ in}}  & {\em task\+Complete\+Parser\+\_\+func} & -\/ Function pointer to parser looking for task completion \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{actions_8c_a12978da1cd17c327b4b12de03ff524cb}\label{actions_8c_a12978da1cd17c327b4b12de03ff524cb}} 
\index{actions.c@{actions.c}!action\_serviceResponseParser@{action\_serviceResponseParser}}
\index{action\_serviceResponseParser@{action\_serviceResponseParser}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_serviceResponseParser()}{action\_serviceResponseParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} action\+\_\+service\+Response\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{response,  }\item[{const char $\ast$}]{preamble,  }\item[{uint8\+\_\+t}]{result\+Indx,  }\item[{char $\ast$$\ast$}]{endptr }\end{DoxyParamCaption})}



Parser for open connection response, shared by U\+D\+P/\+T\+C\+P/\+S\+SL. 

\mbox{\Hypertarget{actions_8c_a657dc5291edd9a7e48c2866aac75ea73}\label{actions_8c_a657dc5291edd9a7e48c2866aac75ea73}} 
\index{actions.c@{actions.c}!action\_strToken@{action\_strToken}}
\index{action\_strToken@{action\_strToken}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_strToken()}{action\_strToken()}}
{\footnotesize\ttfamily char$\ast$ action\+\_\+str\+Token (\begin{DoxyParamCaption}\item[{char $\ast$}]{source,  }\item[{int}]{delimiter,  }\item[{char $\ast$}]{token,  }\item[{uint8\+\_\+t}]{token\+Max }\end{DoxyParamCaption})}



C-\/string token grabber. 

\mbox{\Hypertarget{actions_8c_a905333ceb23800696a33acc11dab7a0d}\label{actions_8c_a905333ceb23800696a33acc11dab7a0d}} 
\index{actions.c@{actions.c}!action\_tokenResultParser@{action\_tokenResultParser}}
\index{action\_tokenResultParser@{action\_tokenResultParser}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_tokenResultParser()}{action\_tokenResultParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltem1c_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} action\+\_\+token\+Result\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{response,  }\item[{const char $\ast$}]{preamble,  }\item[{char}]{delim,  }\item[{uint8\+\_\+t}]{reqd\+Tokens,  }\item[{const char $\ast$}]{terminator,  }\item[{char $\ast$$\ast$}]{endptr }\end{DoxyParamCaption})}



Performs a standardized parse of command responses. This function can be wrapped to match atcmd command\+Completed\+Parse signature. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em response} & -\/ The string returned from the get\+Result function. \\
\hline
\mbox{\texttt{ in}}  & {\em preamble} & -\/ The string to look for to signal response matches command (scans from end backwards). \\
\hline
\mbox{\texttt{ in}}  & {\em delim} & -\/ The token delimeter char. \\
\hline
\mbox{\texttt{ in}}  & {\em reqd\+Tokens} & -\/ The minimum number of tokens expected. \\
\hline
\mbox{\texttt{ in}}  & {\em terminator} & -\/ Text to look for indicating the sucessful end of command response. \\
\hline
\mbox{\texttt{ out}}  & {\em endptr} & -\/ Char pointer to the next char in response after parser match\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the response meets the conditions in the preamble and token count required. 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_aeffecde3975bac07ef8977ca60ccdb47}\label{actions_8c_aeffecde3975bac07ef8977ca60ccdb47}} 
\index{actions.c@{actions.c}!action\_tryInvoke@{action\_tryInvoke}}
\index{action\_tryInvoke@{action\_tryInvoke}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_tryInvoke()}{action\_tryInvoke()}}
{\footnotesize\ttfamily bool action\+\_\+try\+Invoke (\begin{DoxyParamCaption}\item[{const char $\ast$}]{cmd\+Str }\end{DoxyParamCaption})}



Invokes a B\+Gx AT command with default action values. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cmd\+Str} & -\/ The command string to send to the B\+G96 module.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if action was invoked, false if not 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_ae950676c877c6390a7167338a58c15e0}\label{actions_8c_ae950676c877c6390a7167338a58c15e0}} 
\index{actions.c@{actions.c}!action\_tryInvokeAdv@{action\_tryInvokeAdv}}
\index{action\_tryInvokeAdv@{action\_tryInvokeAdv}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{action\_tryInvokeAdv()}{action\_tryInvokeAdv()}}
{\footnotesize\ttfamily bool action\+\_\+try\+Invoke\+Adv (\begin{DoxyParamCaption}\item[{const char $\ast$}]{cmd\+Str,  }\item[{uint8\+\_\+t}]{retries,  }\item[{uint16\+\_\+t}]{timeout,  }\item[{uint16\+\_\+t($\ast$)(const char $\ast$response, char $\ast$$\ast$endptr)}]{task\+Complete\+Parser }\end{DoxyParamCaption})}



Invokes a B\+Gx AT command with application specified action values. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cmd\+Str} & -\/ The command string to send to the B\+G96 module. \\
\hline
\mbox{\texttt{ in}}  & {\em retries} & -\/ Number of retries to obtain action lock that should be attempted. 0 = no retries. \\
\hline
\mbox{\texttt{ in}}  & {\em timeout} & -\/ Number of milliseconds the action can take. If 0, the system default timeout is used. \\
\hline
\mbox{\texttt{ in}}  & {\em task\+Complete\+Parser} & -\/ Custom command response parser to signal result is complete. N\+U\+LL for std parser.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if action was invoked, false if not 
\end{DoxyReturn}
\mbox{\Hypertarget{actions_8c_a4ebff35eeb105c5536cdb994d11d2573}\label{actions_8c_a4ebff35eeb105c5536cdb994d11d2573}} 
\index{actions.c@{actions.c}!actn\_acquireLock@{actn\_acquireLock}}
\index{actn\_acquireLock@{actn\_acquireLock}!actions.c@{actions.c}}
\doxysubsubsection{\texorpdfstring{actn\_acquireLock()}{actn\_acquireLock()}}
{\footnotesize\ttfamily bool actn\+\_\+acquire\+Lock (\begin{DoxyParamCaption}\item[{const char $\ast$}]{cmd\+Str,  }\item[{uint8\+\_\+t}]{retries }\end{DoxyParamCaption})}



Attempts to get exclusive access to Q\+BG module command interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cmd\+Str} & -\/ The AT command text. \\
\hline
\mbox{\texttt{ in}}  & {\em retries} & -\/ Number of retries to be attempted, while obtaining lock. \\
\hline
\end{DoxyParams}
