\hypertarget{network_8c}{}\doxysection{src/network.c File Reference}
\label{network_8c}\index{src/network.c@{src/network.c}}
{\ttfamily \#include \char`\"{}ltem1c.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{network_8c_acded44a40a84c6e4ecf02b6da518ce4e}{P\+R\+O\+T\+O\+C\+O\+L\+S\+\_\+\+C\+M\+D\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+SZ}}~80
\item 
\#define \mbox{\hyperlink{network_8c_a74e75242132eaabbc1c512488a135926}{M\+IN}}(x,  y)~(((x)$<$(y)) ? (x)\+:(y))
\item 
\#define \mbox{\hyperlink{network_8c_a460c2e54a89634be2775c6c29775a50a}{I\+P\+\_\+\+Q\+I\+A\+C\+T\+\_\+\+SZ}}~8
\item 
\#define \mbox{\hyperlink{network_8c_a804ecb67b072321269af36bc17d26886}{T\+O\+K\+E\+N\+\_\+\+B\+U\+F\+\_\+\+SZ}}~16
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{network_8c_a0072c70b4e78852288327db83ee02a4e}{grab\+Token}} (char $\ast$source, int delimiter, char $\ast$token\+Buf, uint8\+\_\+t token\+Buf\+Sz)
\begin{DoxyCompactList}\small\item\em Scans a C-\/\+String (char array) for the next delimeted token and null terminates it. \end{DoxyCompactList}\item 
\mbox{\hyperlink{network_8h_afdeb09cbf237e761c59dcb9084f01a3a}{network\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a9eae2977201164408f29a0c63d1b6af1}{ntwk\+\_\+create}} ()
\begin{DoxyCompactList}\small\item\em Initialize the IP network contexts structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{network_8h_a58db2e79250f681c695c651d586fd25f}{network\+Operator\+\_\+t}} \mbox{\hyperlink{network_8c_abdbd836a01669dcf68329ef31c73d45a}{ntwk\+\_\+await\+Operator}} (uint16\+\_\+t wait\+Duration)
\begin{DoxyCompactList}\small\item\em Wait for a network operator name and network mode. Can be cancelled in threaded env via g\+\_\+ltem1-\/$>$cancellation\+Request. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{network_8c_ab775d4790c65cc1c9d19bb70c805b808}{ntwk\+\_\+get\+Active\+Pdp\+Contexts}} ()
\begin{DoxyCompactList}\small\item\em Get collection of A\+PN active data contexts from B\+Gx. \end{DoxyCompactList}\item 
\mbox{\hyperlink{network_8h_a2e3bffac3c81c2a93542e7824346c6ec}{pdp\+Context\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a0384b2a44d91ea537b2e6c968102b4c2}{ntwk\+\_\+get\+Pdp\+Context}} (uint8\+\_\+t cntxt\+Id)
\begin{DoxyCompactList}\small\item\em Get A\+PN\textbackslash{}\+P\+DP Context information. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a3c317e9a6462c1893406d87f3db501cb}{ntwk\+\_\+activate\+Pdp\+Context}} (uint8\+\_\+t cntxt\+Id)
\begin{DoxyCompactList}\small\item\em Activate A\+PN. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a1211e162b3e2ae3af1a9430e6254adee}{ntwk\+\_\+deactivate\+Pdp\+Context}} (uint8\+\_\+t cntxt\+Id)
\begin{DoxyCompactList}\small\item\em Deactivate A\+PN. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a44958b492843d449944cfc78d937241d}{ntwk\+\_\+reset\+Pdp\+Contexts}} ()
\begin{DoxyCompactList}\small\item\em Reset (deactivate\textbackslash{}activate) all network A\+P\+Ns. Note\+: activate and deactivate have side effects, they internally call get\+Active\+Contexts prior to return. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{network_8c_a460c2e54a89634be2775c6c29775a50a}\label{network_8c_a460c2e54a89634be2775c6c29775a50a}} 
\index{network.c@{network.c}!IP\_QIACT\_SZ@{IP\_QIACT\_SZ}}
\index{IP\_QIACT\_SZ@{IP\_QIACT\_SZ}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{IP\_QIACT\_SZ}{IP\_QIACT\_SZ}}
{\footnotesize\ttfamily \#define I\+P\+\_\+\+Q\+I\+A\+C\+T\+\_\+\+SZ~8}

\mbox{\Hypertarget{network_8c_a74e75242132eaabbc1c512488a135926}\label{network_8c_a74e75242132eaabbc1c512488a135926}} 
\index{network.c@{network.c}!MIN@{MIN}}
\index{MIN@{MIN}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{MIN}{MIN}}
{\footnotesize\ttfamily \#define M\+IN(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~(((x)$<$(y)) ? (x)\+:(y))}

\mbox{\Hypertarget{network_8c_acded44a40a84c6e4ecf02b6da518ce4e}\label{network_8c_acded44a40a84c6e4ecf02b6da518ce4e}} 
\index{network.c@{network.c}!PROTOCOLS\_CMD\_BUFFER\_SZ@{PROTOCOLS\_CMD\_BUFFER\_SZ}}
\index{PROTOCOLS\_CMD\_BUFFER\_SZ@{PROTOCOLS\_CMD\_BUFFER\_SZ}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{PROTOCOLS\_CMD\_BUFFER\_SZ}{PROTOCOLS\_CMD\_BUFFER\_SZ}}
{\footnotesize\ttfamily \#define P\+R\+O\+T\+O\+C\+O\+L\+S\+\_\+\+C\+M\+D\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+SZ~80}

\mbox{\Hypertarget{network_8c_a804ecb67b072321269af36bc17d26886}\label{network_8c_a804ecb67b072321269af36bc17d26886}} 
\index{network.c@{network.c}!TOKEN\_BUF\_SZ@{TOKEN\_BUF\_SZ}}
\index{TOKEN\_BUF\_SZ@{TOKEN\_BUF\_SZ}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{TOKEN\_BUF\_SZ}{TOKEN\_BUF\_SZ}}
{\footnotesize\ttfamily \#define T\+O\+K\+E\+N\+\_\+\+B\+U\+F\+\_\+\+SZ~16}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{network_8c_a0072c70b4e78852288327db83ee02a4e}\label{network_8c_a0072c70b4e78852288327db83ee02a4e}} 
\index{network.c@{network.c}!grabToken@{grabToken}}
\index{grabToken@{grabToken}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{grabToken()}{grabToken()}}
{\footnotesize\ttfamily char $\ast$ grab\+Token (\begin{DoxyParamCaption}\item[{char $\ast$}]{source,  }\item[{int}]{delimiter,  }\item[{char $\ast$}]{token\+Buf,  }\item[{uint8\+\_\+t}]{token\+Buf\+Sz }\end{DoxyParamCaption})}



Scans a C-\/\+String (char array) for the next delimeted token and null terminates it. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em source} & -\/ Original char array to scan. \\
\hline
\mbox{\texttt{ in}}  & {\em delimeter} & -\/ Character separating tokens (passed as integer value). \\
\hline
\mbox{\texttt{ out}}  & {\em token} & -\/ Pointer to where token should be copied to. \\
\hline
\mbox{\texttt{ in}}  & {\em token\+Sz} & -\/ Size of buffer to receive token.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the location in the source string immediately following the token. 
\end{DoxyReturn}
\mbox{\Hypertarget{network_8c_a3c317e9a6462c1893406d87f3db501cb}\label{network_8c_a3c317e9a6462c1893406d87f3db501cb}} 
\index{network.c@{network.c}!ntwk\_activatePdpContext@{ntwk\_activatePdpContext}}
\index{ntwk\_activatePdpContext@{ntwk\_activatePdpContext}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_activatePdpContext()}{ntwk\_activatePdpContext()}}
{\footnotesize\ttfamily void ntwk\+\_\+activate\+Pdp\+Context (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cntxt\+Id }\end{DoxyParamCaption})}



Activate A\+PN. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cntxt\+Id} & The A\+PN to operate on. Typically 0 or 1 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{network_8c_abdbd836a01669dcf68329ef31c73d45a}\label{network_8c_abdbd836a01669dcf68329ef31c73d45a}} 
\index{network.c@{network.c}!ntwk\_awaitOperator@{ntwk\_awaitOperator}}
\index{ntwk\_awaitOperator@{ntwk\_awaitOperator}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_awaitOperator()}{ntwk\_awaitOperator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{network_8h_a58db2e79250f681c695c651d586fd25f}{network\+Operator\+\_\+t}} ntwk\+\_\+await\+Operator (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{wait\+Duration }\end{DoxyParamCaption})}



Wait for a network operator name and network mode. Can be cancelled in threaded env via g\+\_\+ltem1-\/$>$cancellation\+Request. 


\begin{DoxyParams}{Parameters}
{\em wait\+Duration} & \mbox{[}in\mbox{]} Number of seconds to wait for a network. Supply 0 for no wait.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Struct containing the network operator name (oper\+Name) and network mode (ntwk\+Mode). 
\end{DoxyReturn}
\mbox{\Hypertarget{network_8c_a9eae2977201164408f29a0c63d1b6af1}\label{network_8c_a9eae2977201164408f29a0c63d1b6af1}} 
\index{network.c@{network.c}!ntwk\_create@{ntwk\_create}}
\index{ntwk\_create@{ntwk\_create}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_create()}{ntwk\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{network_8h_afdeb09cbf237e761c59dcb9084f01a3a}{network\+\_\+t}}$\ast$ ntwk\+\_\+create (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize the IP network contexts structure. 

\mbox{\Hypertarget{network_8c_a1211e162b3e2ae3af1a9430e6254adee}\label{network_8c_a1211e162b3e2ae3af1a9430e6254adee}} 
\index{network.c@{network.c}!ntwk\_deactivatePdpContext@{ntwk\_deactivatePdpContext}}
\index{ntwk\_deactivatePdpContext@{ntwk\_deactivatePdpContext}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_deactivatePdpContext()}{ntwk\_deactivatePdpContext()}}
{\footnotesize\ttfamily void ntwk\+\_\+deactivate\+Pdp\+Context (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cntxt\+Id }\end{DoxyParamCaption})}



Deactivate A\+PN. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cntxt\+Id} & The A\+PN number to operate on. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{network_8c_ab775d4790c65cc1c9d19bb70c805b808}\label{network_8c_ab775d4790c65cc1c9d19bb70c805b808}} 
\index{network.c@{network.c}!ntwk\_getActivePdpContexts@{ntwk\_getActivePdpContexts}}
\index{ntwk\_getActivePdpContexts@{ntwk\_getActivePdpContexts}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_getActivePdpContexts()}{ntwk\_getActivePdpContexts()}}
{\footnotesize\ttfamily uint8\+\_\+t ntwk\+\_\+get\+Active\+Pdp\+Contexts (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get collection of A\+PN active data contexts from B\+Gx. 

\begin{DoxyReturn}{Returns}
Count of active data contexts (B\+Gx max is 3). 
\end{DoxyReturn}
\mbox{\Hypertarget{network_8c_a0384b2a44d91ea537b2e6c968102b4c2}\label{network_8c_a0384b2a44d91ea537b2e6c968102b4c2}} 
\index{network.c@{network.c}!ntwk\_getPdpContext@{ntwk\_getPdpContext}}
\index{ntwk\_getPdpContext@{ntwk\_getPdpContext}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_getPdpContext()}{ntwk\_getPdpContext()}}
{\footnotesize\ttfamily \mbox{\hyperlink{network_8h_a2e3bffac3c81c2a93542e7824346c6ec}{pdp\+Context\+\_\+t}}$\ast$ ntwk\+\_\+get\+Pdp\+Context (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cntxt\+Id }\end{DoxyParamCaption})}



Get A\+PN\textbackslash{}\+P\+DP Context information. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cntxt\+Id} & The A\+PN to retreive.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to A\+PN info in active A\+PN table, N\+U\+LL if not active 
\end{DoxyReturn}
\mbox{\Hypertarget{network_8c_a44958b492843d449944cfc78d937241d}\label{network_8c_a44958b492843d449944cfc78d937241d}} 
\index{network.c@{network.c}!ntwk\_resetPdpContexts@{ntwk\_resetPdpContexts}}
\index{ntwk\_resetPdpContexts@{ntwk\_resetPdpContexts}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{ntwk\_resetPdpContexts()}{ntwk\_resetPdpContexts()}}
{\footnotesize\ttfamily void ntwk\+\_\+reset\+Pdp\+Contexts (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Reset (deactivate\textbackslash{}activate) all network A\+P\+Ns. Note\+: activate and deactivate have side effects, they internally call get\+Active\+Contexts prior to return. 

