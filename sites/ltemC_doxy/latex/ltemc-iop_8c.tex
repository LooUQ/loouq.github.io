\hypertarget{ltemc-iop_8c}{}\doxysection{src/ltemc-\/iop.c File Reference}
\label{ltemc-iop_8c}\index{src/ltemc-\/iop.c@{src/ltemc-\/iop.c}}
{\ttfamily \#include \char`\"{}ltemc.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ltemc-iop_8c_a152fc5203b90b1cff03b7b78579b8f52}{\+\_\+\+D\+E\+B\+UG}}~0
\item 
\#define \mbox{\hyperlink{ltemc-iop_8c_ab818574b6e7324559d0b09a6fc9ca1f2}{P\+R\+I\+N\+TF}}(c\+\_\+,  f\+\_\+, ...)~;
\item 
\#define \mbox{\hyperlink{ltemc-iop_8c_a74e75242132eaabbc1c512488a135926}{M\+IN}}(x,  y)~(((x) $<$ (y)) ? (x) \+: (y))
\item 
\#define \mbox{\hyperlink{ltemc-iop_8c_a7d19c8e4b85d2ff5dc1267321330fe4d}{I\+O\+P\+\_\+\+R\+X\+C\+T\+R\+L\+B\+L\+K\+\_\+\+A\+D\+V\+I\+N\+D\+EX}}(I\+N\+DX)~I\+N\+DX = (++I\+N\+DX == I\+O\+P\+\_\+\+R\+X\+C\+T\+R\+L\+B\+L\+K\+\_\+\+C\+O\+U\+NT) ? 0 \+: I\+N\+DX
\item 
\#define \mbox{\hyperlink{ltemc-iop_8c_abf43a3af3a4735d3f139e0ac8b2eac9c}{Q\+B\+G\+\_\+\+A\+P\+P\+R\+E\+A\+D\+Y\+\_\+\+M\+I\+L\+L\+I\+S\+M\+AX}}~5000
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ltemc-iop_8c_ab947681241346e1704709a480292f8d8}{iop\+\_\+create}} ()
\begin{DoxyCompactList}\small\item\em Initialize the Input/\+Output Process subsystem. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-iop_8c_ac0c9cd30e69275d43a3cc01da127db57}{iop\+\_\+register\+Protocol}} (\mbox{\hyperlink{lq_types_8h_ab5ff856ea8c926d4ede227d87a58629d}{ltem\+Optn\+Module\+\_\+t}} proto, void $\ast$proto\+Ptr)
\item 
void \mbox{\hyperlink{ltemc-iop_8c_adc850da968c0996c7645ef06e277708f}{iop\+\_\+start}} ()
\begin{DoxyCompactList}\small\item\em Complete initialization and start running iop processes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-iop_8c_a1baf3b1228e8a750422d97cef2d336a8}{iop\+\_\+await\+App\+Ready}} ()
\begin{DoxyCompactList}\small\item\em Verify L\+T\+Em1 is ready for driver operations. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-iop_8c_aa30098ddd513173d5c6ac1cd07f492b9}{iop\+\_\+tx\+Send}} (const char $\ast$send\+Data, uint16\+\_\+t send\+Sz, bool send\+Ready)
\begin{DoxyCompactList}\small\item\em Start a (raw) send operation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-iop_8c_aad96d9d4df9ebc33c08464531f757fb1}{iop\+\_\+reset\+Cmd\+Buffer}} ()
\begin{DoxyCompactList}\small\item\em Clear receive command response buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-iop_8c_a9db71023d7554c3ae473ab010d2f1acf}{iop\+\_\+reset\+Data\+Buffer}} (uint8\+\_\+t buf\+Indx)
\begin{DoxyCompactList}\small\item\em Clear receive command response buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{lq_types_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} \mbox{\hyperlink{ltemc-iop_8c_a666094e51c449560d25b82867a708ca9}{iop\+\_\+tx\+Data\+Prompt\+Parser}} (const char $\ast$response, char $\ast$$\ast$endptr)
\begin{DoxyCompactList}\small\item\em Response parser looking for \char`\"{}$>$\char`\"{} prompt to send data to network and then initiates the send. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-iop_8c_a499e14029136c4eb243a5458b6bac682}{iop\+\_\+rx\+Parse\+Immediate}} ()
\begin{DoxyCompactList}\small\item\em Parse recv\textquotesingle{}d data (in command RX buffer) for async event preambles that need to be handled immediately. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{ltemc-iop_8c_a152fc5203b90b1cff03b7b78579b8f52}\label{ltemc-iop_8c_a152fc5203b90b1cff03b7b78579b8f52}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!\_DEBUG@{\_DEBUG}}
\index{\_DEBUG@{\_DEBUG}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{\_DEBUG}{\_DEBUG}}
{\footnotesize\ttfamily \#define \+\_\+\+D\+E\+B\+UG~0}

\mbox{\Hypertarget{ltemc-iop_8c_a7d19c8e4b85d2ff5dc1267321330fe4d}\label{ltemc-iop_8c_a7d19c8e4b85d2ff5dc1267321330fe4d}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!IOP\_RXCTRLBLK\_ADVINDEX@{IOP\_RXCTRLBLK\_ADVINDEX}}
\index{IOP\_RXCTRLBLK\_ADVINDEX@{IOP\_RXCTRLBLK\_ADVINDEX}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{IOP\_RXCTRLBLK\_ADVINDEX}{IOP\_RXCTRLBLK\_ADVINDEX}}
{\footnotesize\ttfamily \#define I\+O\+P\+\_\+\+R\+X\+C\+T\+R\+L\+B\+L\+K\+\_\+\+A\+D\+V\+I\+N\+D\+EX(\begin{DoxyParamCaption}\item[{}]{I\+N\+DX }\end{DoxyParamCaption})~I\+N\+DX = (++I\+N\+DX == I\+O\+P\+\_\+\+R\+X\+C\+T\+R\+L\+B\+L\+K\+\_\+\+C\+O\+U\+NT) ? 0 \+: I\+N\+DX}

\mbox{\Hypertarget{ltemc-iop_8c_a74e75242132eaabbc1c512488a135926}\label{ltemc-iop_8c_a74e75242132eaabbc1c512488a135926}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!MIN@{MIN}}
\index{MIN@{MIN}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{MIN}{MIN}}
{\footnotesize\ttfamily \#define M\+IN(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~(((x) $<$ (y)) ? (x) \+: (y))}

\mbox{\Hypertarget{ltemc-iop_8c_ab818574b6e7324559d0b09a6fc9ca1f2}\label{ltemc-iop_8c_ab818574b6e7324559d0b09a6fc9ca1f2}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!PRINTF@{PRINTF}}
\index{PRINTF@{PRINTF}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{PRINTF}{PRINTF}}
{\footnotesize\ttfamily \#define P\+R\+I\+N\+TF(\begin{DoxyParamCaption}\item[{}]{c\+\_\+,  }\item[{}]{f\+\_\+,  }\item[{}]{... }\end{DoxyParamCaption})~;}

\mbox{\Hypertarget{ltemc-iop_8c_abf43a3af3a4735d3f139e0ac8b2eac9c}\label{ltemc-iop_8c_abf43a3af3a4735d3f139e0ac8b2eac9c}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!QBG\_APPREADY\_MILLISMAX@{QBG\_APPREADY\_MILLISMAX}}
\index{QBG\_APPREADY\_MILLISMAX@{QBG\_APPREADY\_MILLISMAX}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{QBG\_APPREADY\_MILLISMAX}{QBG\_APPREADY\_MILLISMAX}}
{\footnotesize\ttfamily \#define Q\+B\+G\+\_\+\+A\+P\+P\+R\+E\+A\+D\+Y\+\_\+\+M\+I\+L\+L\+I\+S\+M\+AX~5000}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc-iop_8c_a1baf3b1228e8a750422d97cef2d336a8}\label{ltemc-iop_8c_a1baf3b1228e8a750422d97cef2d336a8}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_awaitAppReady@{iop\_awaitAppReady}}
\index{iop\_awaitAppReady@{iop\_awaitAppReady}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_awaitAppReady()}{iop\_awaitAppReady()}}
{\footnotesize\ttfamily void iop\+\_\+await\+App\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Verify L\+T\+Em1 is ready for driver operations. 

\mbox{\Hypertarget{ltemc-iop_8c_ab947681241346e1704709a480292f8d8}\label{ltemc-iop_8c_ab947681241346e1704709a480292f8d8}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_create@{iop\_create}}
\index{iop\_create@{iop\_create}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_create()}{iop\_create()}}
{\footnotesize\ttfamily void iop\+\_\+create (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize the Input/\+Output Process subsystem. 

\mbox{\Hypertarget{ltemc-iop_8c_ac0c9cd30e69275d43a3cc01da127db57}\label{ltemc-iop_8c_ac0c9cd30e69275d43a3cc01da127db57}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_registerProtocol@{iop\_registerProtocol}}
\index{iop\_registerProtocol@{iop\_registerProtocol}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_registerProtocol()}{iop\_registerProtocol()}}
{\footnotesize\ttfamily void iop\+\_\+register\+Protocol (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{lq_types_8h_ab5ff856ea8c926d4ede227d87a58629d}{ltem\+Optn\+Module\+\_\+t}}}]{proto,  }\item[{void $\ast$}]{proto\+Ptr }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ltemc-iop_8c_aad96d9d4df9ebc33c08464531f757fb1}\label{ltemc-iop_8c_aad96d9d4df9ebc33c08464531f757fb1}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_resetCmdBuffer@{iop\_resetCmdBuffer}}
\index{iop\_resetCmdBuffer@{iop\_resetCmdBuffer}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_resetCmdBuffer()}{iop\_resetCmdBuffer()}}
{\footnotesize\ttfamily void iop\+\_\+reset\+Cmd\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear receive command response buffer. 

\mbox{\Hypertarget{ltemc-iop_8c_a9db71023d7554c3ae473ab010d2f1acf}\label{ltemc-iop_8c_a9db71023d7554c3ae473ab010d2f1acf}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_resetDataBuffer@{iop\_resetDataBuffer}}
\index{iop\_resetDataBuffer@{iop\_resetDataBuffer}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_resetDataBuffer()}{iop\_resetDataBuffer()}}
{\footnotesize\ttfamily void iop\+\_\+reset\+Data\+Buffer (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{buf\+Indx }\end{DoxyParamCaption})}



Clear receive command response buffer. 


\begin{DoxyParams}{Parameters}
{\em buf\+Indx} & \mbox{[}in\mbox{]} The I\+OP data buffer array index. Data buffers are referenced by an array of pointers. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-iop_8c_a499e14029136c4eb243a5458b6bac682}\label{ltemc-iop_8c_a499e14029136c4eb243a5458b6bac682}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_rxParseImmediate@{iop\_rxParseImmediate}}
\index{iop\_rxParseImmediate@{iop\_rxParseImmediate}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_rxParseImmediate()}{iop\_rxParseImmediate()}}
{\footnotesize\ttfamily void iop\+\_\+rx\+Parse\+Immediate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Parse recv\textquotesingle{}d data (in command RX buffer) for async event preambles that need to be handled immediately. 

\mbox{\Hypertarget{ltemc-iop_8c_adc850da968c0996c7645ef06e277708f}\label{ltemc-iop_8c_adc850da968c0996c7645ef06e277708f}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_start@{iop\_start}}
\index{iop\_start@{iop\_start}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_start()}{iop\_start()}}
{\footnotesize\ttfamily void iop\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Complete initialization and start running iop processes. 

\mbox{\Hypertarget{ltemc-iop_8c_a666094e51c449560d25b82867a708ca9}\label{ltemc-iop_8c_a666094e51c449560d25b82867a708ca9}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_txDataPromptParser@{iop\_txDataPromptParser}}
\index{iop\_txDataPromptParser@{iop\_txDataPromptParser}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_txDataPromptParser()}{iop\_txDataPromptParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{lq_types_8h_a700eddbbbf80623f66eb7ae253ecd887}{result\+Code\+\_\+t}} iop\+\_\+tx\+Data\+Prompt\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{response,  }\item[{char $\ast$$\ast$}]{endptr }\end{DoxyParamCaption})}



Response parser looking for \char`\"{}$>$\char`\"{} prompt to send data to network and then initiates the send. 


\begin{DoxyParams}{Parameters}
{\em response} & \mbox{[}in\mbox{]} The character string received from B\+Gx (so far, may not be complete). \\
\hline
{\em endptr} & \mbox{[}out\mbox{]} Pointer to char immediately following match, nullptr for error.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Result code enum value (http status code) 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-iop_8c_aa30098ddd513173d5c6ac1cd07f492b9}\label{ltemc-iop_8c_aa30098ddd513173d5c6ac1cd07f492b9}} 
\index{ltemc-\/iop.c@{ltemc-\/iop.c}!iop\_txSend@{iop\_txSend}}
\index{iop\_txSend@{iop\_txSend}!ltemc-\/iop.c@{ltemc-\/iop.c}}
\doxysubsubsection{\texorpdfstring{iop\_txSend()}{iop\_txSend()}}
{\footnotesize\ttfamily uint16\+\_\+t iop\+\_\+tx\+Send (\begin{DoxyParamCaption}\item[{const char $\ast$}]{send\+Data,  }\item[{uint16\+\_\+t}]{send\+Sz,  }\item[{bool}]{send\+Ready }\end{DoxyParamCaption})}



Start a (raw) send operation. 


\begin{DoxyParams}{Parameters}
{\em send\+Data} & \mbox{[}in\mbox{]} -\/ Pointer to char data to send out, input buffer can be discarded following call. \\
\hline
{\em send\+Sz} & \mbox{[}in\mbox{]} -\/ The number of characters to send. \\
\hline
{\em send\+Ready} & \mbox{[}in\mbox{]} -\/ If true, queue send\+Data then initiate the actual send process. If false continue queueing and wait to send.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of characters queued for sending. 
\end{DoxyReturn}
