\hypertarget{ltemc_8c}{}\doxysection{src/ltemc.c File Reference}
\label{ltemc_8c}\index{src/ltemc.c@{src/ltemc.c}}
{\ttfamily \#include \char`\"{}ltemc.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ltemc_8c_a152fc5203b90b1cff03b7b78579b8f52}{\+\_\+\+D\+E\+B\+UG}}~0
\item 
\#define \mbox{\hyperlink{ltemc_8c_ab818574b6e7324559d0b09a6fc9ca1f2}{P\+R\+I\+N\+TF}}(c\+\_\+,  f\+\_\+, ...)~;
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ltemc_8c_a62bd97eb5a7b9657f83f521f0eaacc76}{ltem\+\_\+create}} (const \mbox{\hyperlink{lq_platform-gpio_8h_a179aa93a99cd81e3a0f037bd9f07d70e}{ltem\+Pin\+Config\+\_\+t}} ltem\+\_\+config, \mbox{\hyperlink{lq_types_8h_ae4ff1e8ff40f958855bf5ec2c1f19915}{app\+Notify\+\_\+func}} app\+Notify\+CB)
\begin{DoxyCompactList}\small\item\em Initialize the L\+T\+Em1 modem. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a687ddae526d7f6e97b36b223f71583e6}{ltem\+\_\+start}} (uint16\+\_\+t protocol\+Bit\+Map)
\begin{DoxyCompactList}\small\item\em Power on and start the modem (perform component init). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a0238192a8a5f8f8fde7e934c0aa01ab3}{ltem\+\_\+reset}} ()
\begin{DoxyCompactList}\small\item\em Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc_8c_a38b219b10645a48d462e8cb69e0f576a}{ltem\+\_\+chk\+Hw\+Ready}} ()
\begin{DoxyCompactList}\small\item\em Check the B\+Gx for hardware ready (status pin). \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-quectel-bg_8h_a3b346c5dfd0f8d950e7bc92c1b22b844}{qbg\+Ready\+State\+\_\+t}} \mbox{\hyperlink{ltemc_8c_aa92d5ab484a2fdaff02c5601b12eb9e2}{ltem\+\_\+get\+Ready\+State}} ()
\begin{DoxyCompactList}\small\item\em Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a5fde19665106d68b37d5d3161a9f3560}{ltem\+\_\+stop}} ()
\begin{DoxyCompactList}\small\item\em Powers off the modem without destroying memory objects. Modem device will require \mbox{\hyperlink{ltemc_8c_a687ddae526d7f6e97b36b223f71583e6}{ltem\+\_\+start()}} to reinit HW. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_adc4fe577a31799623ad85245e64dfea5}{ltem\+\_\+destroy}} ()
\begin{DoxyCompactList}\small\item\em Uninitialize the L\+TE modem. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a5b79bd67186c40d469be1bcc5dcd412b}{ltem\+\_\+do\+Work}} ()
\begin{DoxyCompactList}\small\item\em Background work task runner. To be called in application Loop() periodically. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a3303e272d37c2d5a9885846eb1d76a32}{ltem\+\_\+notify\+App}} (uint8\+\_\+t notif\+Type, const char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Function of last resort, catastrophic failure Background work task runner. To be called in application Loop() periodically. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a15f0a3db0746ff6fb0563774141aec0b}{ltem\+\_\+set\+Yield\+Cb}} (\mbox{\hyperlink{lq_platform-timing_8h_a1066ad01c72dad80aaa76602d3cdce94}{platform\+\_\+yield\+C\+B\+\_\+func\+\_\+t}} yield\+Cb\+\_\+func)
\begin{DoxyCompactList}\small\item\em Registers the address (void$\ast$) of your application yield callback handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8c_a648cd8860bb8012bb1dd72b0ab477de5}{ltem\+\_\+\+\_\+init\+Io}} ()
\begin{DoxyCompactList}\small\item\em Initialize the modems IO. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ltemc_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}} $\ast$ \mbox{\hyperlink{ltemc_8c_a515e371e42363c8dfb9cad322511bb16}{g\+\_\+ltem}}
\begin{DoxyCompactList}\small\item\em The L\+T\+Em \char`\"{}object\char`\"{}. Since this is C99, like the instance object. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{ltemc_8c_a152fc5203b90b1cff03b7b78579b8f52}\label{ltemc_8c_a152fc5203b90b1cff03b7b78579b8f52}} 
\index{ltemc.c@{ltemc.c}!\_DEBUG@{\_DEBUG}}
\index{\_DEBUG@{\_DEBUG}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{\_DEBUG}{\_DEBUG}}
{\footnotesize\ttfamily \#define \+\_\+\+D\+E\+B\+UG~0}

\mbox{\Hypertarget{ltemc_8c_ab818574b6e7324559d0b09a6fc9ca1f2}\label{ltemc_8c_ab818574b6e7324559d0b09a6fc9ca1f2}} 
\index{ltemc.c@{ltemc.c}!PRINTF@{PRINTF}}
\index{PRINTF@{PRINTF}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{PRINTF}{PRINTF}}
{\footnotesize\ttfamily \#define P\+R\+I\+N\+TF(\begin{DoxyParamCaption}\item[{}]{c\+\_\+,  }\item[{}]{f\+\_\+,  }\item[{}]{... }\end{DoxyParamCaption})~;}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc_8c_a648cd8860bb8012bb1dd72b0ab477de5}\label{ltemc_8c_a648cd8860bb8012bb1dd72b0ab477de5}} 
\index{ltemc.c@{ltemc.c}!ltem\_\_initIo@{ltem\_\_initIo}}
\index{ltem\_\_initIo@{ltem\_\_initIo}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_\_initIo()}{ltem\_\_initIo()}}
{\footnotesize\ttfamily void ltem\+\_\+\+\_\+init\+Io (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize the modems IO. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em modem} & The L\+TE modem. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8c_a38b219b10645a48d462e8cb69e0f576a}\label{ltemc_8c_a38b219b10645a48d462e8cb69e0f576a}} 
\index{ltemc.c@{ltemc.c}!ltem\_chkHwReady@{ltem\_chkHwReady}}
\index{ltem\_chkHwReady@{ltem\_chkHwReady}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_chkHwReady()}{ltem\_chkHwReady()}}
{\footnotesize\ttfamily bool ltem\+\_\+chk\+Hw\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Check the B\+Gx for hardware ready (status pin). 

\begin{DoxyReturn}{Returns}
True is status H\+I\+GH, hardware ready. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc_8c_a62bd97eb5a7b9657f83f521f0eaacc76}\label{ltemc_8c_a62bd97eb5a7b9657f83f521f0eaacc76}} 
\index{ltemc.c@{ltemc.c}!ltem\_create@{ltem\_create}}
\index{ltem\_create@{ltem\_create}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_create()}{ltem\_create()}}
{\footnotesize\ttfamily void ltem\+\_\+create (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{lq_platform-gpio_8h_a179aa93a99cd81e3a0f037bd9f07d70e}{ltem\+Pin\+Config\+\_\+t}}}]{ltem\+\_\+config,  }\item[{\mbox{\hyperlink{lq_types_8h_ae4ff1e8ff40f958855bf5ec2c1f19915}{app\+Notify\+\_\+func}}}]{app\+Notify\+CB }\end{DoxyParamCaption})}



Initialize the L\+T\+Em1 modem. 


\begin{DoxyParams}{Parameters}
{\em ltem\+\_\+config} & \mbox{[}in\mbox{]} -\/ The L\+TE modem gpio pin configuration. \\
\hline
{\em func\+Level} & \mbox{[}in\mbox{]} -\/ Determines the L\+T\+Em1 functionality to create and start. \\
\hline
{\em app\+Notify\+CB} & \mbox{[}in\mbox{]} -\/ If supplied (not N\+U\+LL), this function will be invoked for significant L\+T\+Em1 events. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8c_adc4fe577a31799623ad85245e64dfea5}\label{ltemc_8c_adc4fe577a31799623ad85245e64dfea5}} 
\index{ltemc.c@{ltemc.c}!ltem\_destroy@{ltem\_destroy}}
\index{ltem\_destroy@{ltem\_destroy}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_destroy()}{ltem\_destroy()}}
{\footnotesize\ttfamily void ltem\+\_\+destroy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Uninitialize the L\+TE modem. 

\mbox{\Hypertarget{ltemc_8c_a5b79bd67186c40d469be1bcc5dcd412b}\label{ltemc_8c_a5b79bd67186c40d469be1bcc5dcd412b}} 
\index{ltemc.c@{ltemc.c}!ltem\_doWork@{ltem\_doWork}}
\index{ltem\_doWork@{ltem\_doWork}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_doWork()}{ltem\_doWork()}}
{\footnotesize\ttfamily void ltem\+\_\+do\+Work (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Background work task runner. To be called in application Loop() periodically. 

\mbox{\Hypertarget{ltemc_8c_aa92d5ab484a2fdaff02c5601b12eb9e2}\label{ltemc_8c_aa92d5ab484a2fdaff02c5601b12eb9e2}} 
\index{ltemc.c@{ltemc.c}!ltem\_getReadyState@{ltem\_getReadyState}}
\index{ltem\_getReadyState@{ltem\_getReadyState}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_getReadyState()}{ltem\_getReadyState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-quectel-bg_8h_a3b346c5dfd0f8d950e7bc92c1b22b844}{qbg\+Ready\+State\+\_\+t}} ltem\+\_\+get\+Ready\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. 

\mbox{\Hypertarget{ltemc_8c_a3303e272d37c2d5a9885846eb1d76a32}\label{ltemc_8c_a3303e272d37c2d5a9885846eb1d76a32}} 
\index{ltemc.c@{ltemc.c}!ltem\_notifyApp@{ltem\_notifyApp}}
\index{ltem\_notifyApp@{ltem\_notifyApp}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_notifyApp()}{ltem\_notifyApp()}}
{\footnotesize\ttfamily void ltem\+\_\+notify\+App (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{notif\+Type,  }\item[{const char $\ast$}]{msg }\end{DoxyParamCaption})}



Function of last resort, catastrophic failure Background work task runner. To be called in application Loop() periodically. 


\begin{DoxyParams}{Parameters}
{\em notify\+Type} & \mbox{[}in\mbox{]} -\/ Enum of broad notification categories. \\
\hline
{\em notify\+Msg} & \mbox{[}in\mbox{]} -\/ Message from origination about the issue being reported. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8c_a0238192a8a5f8f8fde7e934c0aa01ab3}\label{ltemc_8c_a0238192a8a5f8f8fde7e934c0aa01ab3}} 
\index{ltemc.c@{ltemc.c}!ltem\_reset@{ltem\_reset}}
\index{ltem\_reset@{ltem\_reset}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_reset()}{ltem\_reset()}}
{\footnotesize\ttfamily void ltem\+\_\+reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. 

\mbox{\Hypertarget{ltemc_8c_a15f0a3db0746ff6fb0563774141aec0b}\label{ltemc_8c_a15f0a3db0746ff6fb0563774141aec0b}} 
\index{ltemc.c@{ltemc.c}!ltem\_setYieldCb@{ltem\_setYieldCb}}
\index{ltem\_setYieldCb@{ltem\_setYieldCb}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_setYieldCb()}{ltem\_setYieldCb()}}
{\footnotesize\ttfamily void ltem\+\_\+set\+Yield\+Cb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{lq_platform-timing_8h_a1066ad01c72dad80aaa76602d3cdce94}{platform\+\_\+yield\+C\+B\+\_\+func\+\_\+t}}}]{yield\+Cb\+\_\+func }\end{DoxyParamCaption})}



Registers the address (void$\ast$) of your application yield callback handler. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em custom\+Fault\+Handler} & -\/ Pointer to application provided fault handler. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8c_a687ddae526d7f6e97b36b223f71583e6}\label{ltemc_8c_a687ddae526d7f6e97b36b223f71583e6}} 
\index{ltemc.c@{ltemc.c}!ltem\_start@{ltem\_start}}
\index{ltem\_start@{ltem\_start}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_start()}{ltem\_start()}}
{\footnotesize\ttfamily void ltem\+\_\+start (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{protocol\+Bit\+Map }\end{DoxyParamCaption})}



Power on and start the modem (perform component init). 


\begin{DoxyParams}{Parameters}
{\em protos} & \mbox{[}in\mbox{]} -\/ Binary-\/\+OR\textquotesingle{}d list of expected protocol services to validate inclusion and start. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8c_a5fde19665106d68b37d5d3161a9f3560}\label{ltemc_8c_a5fde19665106d68b37d5d3161a9f3560}} 
\index{ltemc.c@{ltemc.c}!ltem\_stop@{ltem\_stop}}
\index{ltem\_stop@{ltem\_stop}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{ltem\_stop()}{ltem\_stop()}}
{\footnotesize\ttfamily void ltem\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Powers off the modem without destroying memory objects. Modem device will require \mbox{\hyperlink{ltemc_8c_a687ddae526d7f6e97b36b223f71583e6}{ltem\+\_\+start()}} to reinit HW. 



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{ltemc_8c_a515e371e42363c8dfb9cad322511bb16}\label{ltemc_8c_a515e371e42363c8dfb9cad322511bb16}} 
\index{ltemc.c@{ltemc.c}!g\_ltem@{g\_ltem}}
\index{g\_ltem@{g\_ltem}!ltemc.c@{ltemc.c}}
\doxysubsubsection{\texorpdfstring{g\_ltem}{g\_ltem}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}}$\ast$ g\+\_\+ltem}



The L\+T\+Em \char`\"{}object\char`\"{}. Since this is C99, like the instance object. 

