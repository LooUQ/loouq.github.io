\hypertarget{ltemc-mqtt_8h}{}\doxysection{C\+:/\+Users/\+Greg\+Terrell/\+Documents/\+Code\+Dev/\+Arduino/libraries/\+Loo\+UQ-\/\+LTEm\+C/src/ltemc-\/mqtt.h File Reference}
\label{ltemc-mqtt_8h}\index{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/mqtt.h@{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/mqtt.h}}
{\ttfamily \#include \char`\"{}ltemc-\/types.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmqtt_topic_ctrl__tag}{mqtt\+Topic\+Ctrl\+\_\+tag}}
\begin{DoxyCompactList}\small\item\em Struct describing a MQTT topic subscription. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmqtt_ctrl__tag}{mqtt\+Ctrl\+\_\+tag}}
\begin{DoxyCompactList}\small\item\em Struct representing the state of a MQTT stream service. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_a6031cf46f297b17290fb41c6e5b256bf}\label{ltemc-mqtt_8h_a6031cf46f297b17290fb41c6e5b256bf}} 
\#define {\bfseries MQTT\+\_\+\+URC\+\_\+\+PREFIXES}~\char`\"{}QMTRECV,QMTSTAT\char`\"{}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ac778976d0ddfac2c6ee9d150a8b7d846}\label{ltemc-mqtt_8h_ac778976d0ddfac2c6ee9d150a8b7d846}} 
typedef enum \mbox{\hyperlink{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2}{mqtt\+Result\+\_\+tag}} {\bfseries mqtt\+Result\+\_\+t}
\begin{DoxyCompactList}\small\item\em Emum describing the results of a MQTT publish. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_af6396985642256a42f60af322da5124f}\label{ltemc-mqtt_8h_af6396985642256a42f60af322da5124f}} 
typedef enum \mbox{\hyperlink{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767}{mqtt\+Version\+\_\+tag}} {\bfseries mqtt\+Version\+\_\+t}
\begin{DoxyCompactList}\small\item\em Enum of available MQTT protocol version options. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}\label{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}} 
typedef enum \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1}{mqtt\+Qos\+\_\+tag}} {\bfseries mqtt\+Qos\+\_\+t}
\begin{DoxyCompactList}\small\item\em Enum specifying the MQTT QOS for a publish and subscribed topics. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}\label{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}} 
typedef enum \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063}{mqtt\+State\+\_\+tag}} {\bfseries mqtt\+State\+\_\+t}
\begin{DoxyCompactList}\small\item\em Emum describing current state of the MQTT protocol service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ab4f92de9ec9c80b8543ae90662ca2f58}\label{ltemc-mqtt_8h_ab4f92de9ec9c80b8543ae90662ca2f58}} 
typedef enum mqtt\+Msg\+Segment\+\_\+tag {\bfseries mqtt\+Msg\+Segment\+\_\+t}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}\label{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}} 
typedef struct \mbox{\hyperlink{structmqtt_topic_ctrl__tag}{mqtt\+Topic\+Ctrl\+\_\+tag}} {\bfseries mqtt\+Topic\+Ctrl\+\_\+t}
\begin{DoxyCompactList}\small\item\em Struct describing a MQTT topic subscription. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}\label{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}} 
typedef struct \mbox{\hyperlink{structmqtt_ctrl__tag}{mqtt\+Ctrl\+\_\+tag}} {\bfseries mqtt\+Ctrl\+\_\+t}
\begin{DoxyCompactList}\small\item\em Struct representing the state of a MQTT stream service. \end{DoxyCompactList}\item 
typedef void($\ast$ \mbox{\hyperlink{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}{mqtt\+App\+Recv\+\_\+func}}) (\mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}} data\+Cntxt, uint16\+\_\+t msg\+Id, mqtt\+Msg\+Segment\+\_\+t segment, char $\ast$data\+Ptr, uint16\+\_\+t data\+Sz, bool is\+Final)
\begin{DoxyCompactList}\small\item\em Callback function to transfer incoming message data to app. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9}{mqtt\+\_\+\+\_\+constants}} \{ \newline
{\bfseries mqtt\+\_\+\+\_\+use\+Tls} = 1
, {\bfseries mqtt\+\_\+\+\_\+not\+Using\+Tls} = 0
, {\bfseries mqtt\+\_\+\+\_\+publish\+Timeout} = 15000
, {\bfseries mqtt\+\_\+\+\_\+message\+Sz} = 1548
, \newline
\mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a8816e7da78761a9a888229df2a823221}{mqtt\+\_\+\+\_\+topics\+Cnt}} = 4
, {\bfseries mqtt\+\_\+\+\_\+topic\+\_\+offset} = 24
, {\bfseries mqtt\+\_\+\+\_\+topic\+\_\+name\+Sz} = 90
, \mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a9a0211f9a1b218c91ffdc3b3cde2b69f}{mqtt\+\_\+\+\_\+topic\+\_\+props\+Sz}} = 320
, \newline
\mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a6defc80e03dac7c89e9f72f5bcd90540}{mqtt\+\_\+\+\_\+topic\+Sz}} = (mqtt\+\_\+\+\_\+topic\+\_\+name\+Sz + mqtt\+\_\+\+\_\+topic\+\_\+props\+Sz)
, \mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa216b85f0c6b0281a3ef72aef69e73a0}{mqtt\+\_\+\+\_\+topic\+\_\+publish\+Cmd\+Ovrhd\+Sz}} = 27
, \mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa48ce2b2c6feed85e4d70c63734d38b6}{mqtt\+\_\+\+\_\+topic\+\_\+publish\+Cmd\+Sz}} = (mqtt\+\_\+\+\_\+topic\+\_\+name\+Sz + mqtt\+\_\+\+\_\+topic\+\_\+props\+Sz + mqtt\+\_\+\+\_\+topic\+\_\+publish\+Cmd\+Ovrhd\+Sz)
, {\bfseries mqtt\+\_\+\+\_\+properties\+Cnt} = 12
, \newline
{\bfseries mqtt\+\_\+\+\_\+client\+Id\+Sz} = 20
, {\bfseries mqtt\+\_\+\+\_\+user\+Name\+Sz} = 100
, {\bfseries mqtt\+\_\+\+\_\+user\+Password\+Sz} = 200
 \}
\begin{DoxyCompactList}\small\item\em typed numeric constants used by MQTT subsystem. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2}{mqtt\+Result\+\_\+tag}} \{ {\bfseries mqtt\+Result\+\_\+success} = 0
, \mbox{\hyperlink{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2aedc68fc3c221d4a32102685a1bf9197a}{mqtt\+Result\+\_\+retransmission}} = 1
, \mbox{\hyperlink{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2a7767af10058c9e03b912b38547decf10}{mqtt\+Result\+\_\+failed}} = 2
 \}
\begin{DoxyCompactList}\small\item\em Emum describing the results of a MQTT publish. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767}{mqtt\+Version\+\_\+tag}} \{ {\bfseries mqtt\+Version\+\_\+3} = 3
, \mbox{\hyperlink{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767acba79b73a8bc8355937cb8ace9e9994d}{mqtt\+Version\+\_\+311}} = 4
 \}
\begin{DoxyCompactList}\small\item\em Enum of available MQTT protocol version options. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1}{mqtt\+Qos\+\_\+tag}} \{ {\bfseries mqtt\+Qos\+\_\+0} = 0
, \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a85cc5be7463e90f6f10d09f44d60d302}{mqtt\+Qos\+\_\+1}} = 1
, \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a6a558f77969f80fb08755863f64d6f4f}{mqtt\+Qos\+\_\+2}} = 2
, \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a8c8f9687563c5189305c22c7590c71bc}{mqtt\+Qos\+\_\+max\+Azure}} = 1
 \}
\begin{DoxyCompactList}\small\item\em Enum specifying the MQTT QOS for a publish and subscribed topics. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063}{mqtt\+State\+\_\+tag}} \{ \newline
{\bfseries mqtt\+State\+\_\+closed} = 0
, \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063ada58d8512a7fca08fa0cde6b12f04c66}{mqtt\+State\+\_\+open}} = 1
, \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a6b9d8a30d433e092ffc14895e631d5e2}{mqtt\+State\+\_\+connected}} = 2
, \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a63c7cdd39606db635719bea9f221fdf0}{mqtt\+State\+\_\+invalid\+Host}} = 201
, \newline
{\bfseries mqtt\+State\+\_\+pending} = 202
 \}
\begin{DoxyCompactList}\small\item\em Emum describing current state of the MQTT protocol service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ae9757cbf8ef99ae3e0192cf36b4d3a2a}\label{ltemc-mqtt_8h_ae9757cbf8ef99ae3e0192cf36b4d3a2a}} 
enum {\bfseries mqtt\+Msg\+Segment\+\_\+tag} \{ {\bfseries mqtt\+Msg\+Segment\+\_\+topic} = 0
, {\bfseries mqtt\+Msg\+Segment\+\_\+topic\+Ext} = 1
, {\bfseries mqtt\+Msg\+Segment\+\_\+msg\+Body} = 2
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ltemc-mqtt_8h_ac7e3fe00205f66724d71459625dc208f}{mqtt\+\_\+init\+Control}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}} data\+Cntxt)
\begin{DoxyCompactList}\small\item\em Initialize a MQTT protocol control structure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-mqtt_8h_a059de009eb975ced3a149d9b0b9fec96}{mqtt\+\_\+init\+Topic\+Control}} (\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl, const char $\ast$topic, uint8\+\_\+t qos, \mbox{\hyperlink{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}{mqtt\+App\+Recv\+\_\+func}} app\+Topic\+Recv\+CB)
\begin{DoxyCompactList}\small\item\em Initialize a (subscription) topic control structure. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8h_ae73b3ea731ea63ab4159b87a7fadf488}\label{ltemc-mqtt_8h_ae73b3ea731ea63ab4159b87a7fadf488}} 
void {\bfseries mqtt\+\_\+set\+Connection} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, const char $\ast$host\+Url, uint16\+\_\+t host\+Port, bool use\+Tls, \mbox{\hyperlink{ltemc-mqtt_8h_af6396985642256a42f60af322da5124f}{mqtt\+Version\+\_\+t}} use\+Mqtt\+Version, const char $\ast$device\+Id, const char $\ast$user\+Id, const char $\ast$secret)
\begin{DoxyCompactList}\small\item\em Set the remote server connection values. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a45a23ea200618b416d0e2e317317d399}{mqtt\+\_\+start}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool clean\+Session)
\begin{DoxyCompactList}\small\item\em Open a remote MQTT server for use. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a2be423b4e3745f65617af7a8c9010fb1}{mqtt\+\_\+\+\_\+open}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Open a remote MQTT server for use. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a4dff0867caf18bd5df5c3b56fb919bdb}{mqtt\+\_\+\+\_\+connect}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool clean\+Session)
\begin{DoxyCompactList}\small\item\em Authenicate to MQTT server and create a connected data session. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a64c9cfc49e71e6b77c483ecd7d5c2d17}{mqtt\+\_\+subscribe\+Topic}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl)
\begin{DoxyCompactList}\small\item\em Subscribe to a MQTT topic on the server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_ab4179e72b503c237427c96fed98953c8}{mqtt\+\_\+cancel\+Topic}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl)
\begin{DoxyCompactList}\small\item\em Unsubscribe from a MQTT topic on the server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a6e6260585946cd8f28410cae3310869b}{mqtt\+\_\+publish}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, const char $\ast$topic, \mbox{\hyperlink{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}} qos, const char $\ast$message, uint16\+\_\+t message\+Sz, uint8\+\_\+t timeout\+Sec)
\begin{DoxyCompactList}\small\item\em Publish (send) a message to the MQTT server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-mqtt_8h_afb874ed8fe83efb81a6e206a00059ad0}{mqtt\+\_\+close}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Disconnect and close a connection to a MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_a157ce4debcceb51a37559fa9aa18db4e}{mqtt\+\_\+reset}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool reset\+Modem)
\begin{DoxyCompactList}\small\item\em Disconnect and close a connection to a MQTT server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} \mbox{\hyperlink{ltemc-mqtt_8h_a7fbc5df4372ae5a51a3a0abd28c4535f}{mqtt\+\_\+get\+Status}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get current MQTT connection state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} \mbox{\hyperlink{ltemc-mqtt_8h_a2e0147daee6cbbc04f1a97bfa7997216}{mqtt\+\_\+fetch\+Status}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Query device for current MQTT connection state. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_acaf74caa6843d083f3f2fc65f6300dbe}{mqtt\+\_\+get\+Sent\+Msg\+Id}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the last outgoing message ID. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_ad389b44dfd5d03013965a812df57a0f0}{mqtt\+\_\+get\+Recv\+Msg\+Id}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the last incoming message ID. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8h_ac8270aa2b36e59034bbce57252715120}{mqtt\+\_\+get\+Err\+Code}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the MQTT status error code. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\DoxyHorRuler{0}


\begin{DoxyAuthor}{Author}
Greg Terrell, Loo\+UQ Incorporated
\end{DoxyAuthor}
{\bfseries{Loo\+UQ Incorporated}}~\newline
\href{mailto:answers@loouq.com}{\texttt{ answers@loouq.\+com}}~\newline
807 Airport Access Road, Suite 201, Traverse City, MI 49686 USA~\newline
~\newline
Copyright (c) 2020-\/2023 Loo\+UQ Incorporated.~\newline
This project is released under the GPL-\/3.\+0 License.

\DoxyHorRuler{0}
 \begin{DoxyVerb}This project is released under the GPL-3.0 License.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
\end{DoxyVerb}
 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}\label{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttAppRecv\_func@{mqttAppRecv\_func}}
\index{mqttAppRecv\_func@{mqttAppRecv\_func}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqttAppRecv\_func}{mqttAppRecv\_func}}
{\footnotesize\ttfamily typedef void($\ast$ mqtt\+App\+Recv\+\_\+func) (\mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}} data\+Cntxt, uint16\+\_\+t msg\+Id, mqtt\+Msg\+Segment\+\_\+t segment, char $\ast$data\+Ptr, uint16\+\_\+t data\+Sz, bool is\+Final)}



Callback function to transfer incoming message data to app. 

This func will be invoked multiple times (at least twice) to deliver received MQTT message data to the host application (app). The topic and msg\+Body will always be sent, the topic\+Extension (sometimes used for property pairs) may ~\newline
 \hypertarget{ltemc-mqtt_8h_autotoc_md22}{}\doxysubsection{be sent. Is\+Final only applies to the msg\+Body part of the flow.}\label{ltemc-mqtt_8h_autotoc_md22}

\begin{DoxyParams}{Parameters}
{\em data\+Cntxt} & The data context receiving data. \\
\hline
{\em msg\+Id} & MQTT ID of the message received. \\
\hline
{\em segment} & Enum specifying the part of the message being transfered to the app\+: topic, topic\+Extension, message\+Body \\
\hline
{\em data\+Ptr} & Pointer to received data, now available to the application (see msg\+Part above) \\
\hline
{\em Data\+Sz} & The size of the current block of data available at the stream\+Ptr address for app consumption \\
\hline
{\em is\+Final} & Will be true if the current block of data is the end of the received MQTT msg \\
\hline
\end{DoxyParams}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_constants@{mqtt\_\_constants}}
\index{mqtt\_\_constants@{mqtt\_\_constants}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_\_constants}{mqtt\_\_constants}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9}{mqtt\+\_\+\+\_\+constants}}}



typed numeric constants used by MQTT subsystem. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mqtt\_\_topicsCnt@{mqtt\_\_topicsCnt}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_topicsCnt@{mqtt\_\_topicsCnt}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a8816e7da78761a9a888229df2a823221}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a8816e7da78761a9a888229df2a823221}} 
mqtt\+\_\+\+\_\+topics\+Cnt&Maximum message size for BGx family (BG96, BG95, BG77) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqtt\_\_topic\_propsSz@{mqtt\_\_topic\_propsSz}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_topic\_propsSz@{mqtt\_\_topic\_propsSz}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a9a0211f9a1b218c91ffdc3b3cde2b69f}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a9a0211f9a1b218c91ffdc3b3cde2b69f}} 
mqtt\+\_\+\+\_\+topic\+\_\+props\+Sz&Azure Io\+THub typically 50-\/70 chars. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqtt\_\_topicSz@{mqtt\_\_topicSz}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_topicSz@{mqtt\_\_topicSz}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a6defc80e03dac7c89e9f72f5bcd90540}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9a6defc80e03dac7c89e9f72f5bcd90540}} 
mqtt\+\_\+\+\_\+topic\+Sz&typically 250-\/300 bytes \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqtt\_\_topic\_publishCmdOvrhdSz@{mqtt\_\_topic\_publishCmdOvrhdSz}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_topic\_publishCmdOvrhdSz@{mqtt\_\_topic\_publishCmdOvrhdSz}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa216b85f0c6b0281a3ef72aef69e73a0}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa216b85f0c6b0281a3ef72aef69e73a0}} 
mqtt\+\_\+\+\_\+topic\+\_\+publish\+Cmd\+Ovrhd\+Sz&Total topic size (name+props) for buffer sizing. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqtt\_\_topic\_publishCmdSz@{mqtt\_\_topic\_publishCmdSz}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_topic\_publishCmdSz@{mqtt\_\_topic\_publishCmdSz}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa48ce2b2c6feed85e4d70c63734d38b6}\label{ltemc-mqtt_8h_a5f8ab8a44e690c2450ffcf33de4996d9aa48ce2b2c6feed85e4d70c63734d38b6}} 
mqtt\+\_\+\+\_\+topic\+\_\+publish\+Cmd\+Sz&when publishing, number of extra chars in outgoing buffer added to AT cmd \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1}\label{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttQos\_tag@{mqttQos\_tag}}
\index{mqttQos\_tag@{mqttQos\_tag}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqttQos\_tag}{mqttQos\_tag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1}{mqtt\+Qos\+\_\+tag}}}



Enum specifying the MQTT QOS for a publish and subscribed topics. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttQos\_1@{mqttQos\_1}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttQos\_1@{mqttQos\_1}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a85cc5be7463e90f6f10d09f44d60d302}\label{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a85cc5be7463e90f6f10d09f44d60d302}} 
mqtt\+Qos\+\_\+1&QOS 0\+: At most once (aka send and forget) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttQos\_2@{mqttQos\_2}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttQos\_2@{mqttQos\_2}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a6a558f77969f80fb08755863f64d6f4f}\label{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a6a558f77969f80fb08755863f64d6f4f}} 
mqtt\+Qos\+\_\+2&QOS 1\+: At least once. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttQos\_maxAzure@{mqttQos\_maxAzure}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttQos\_maxAzure@{mqttQos\_maxAzure}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a8c8f9687563c5189305c22c7590c71bc}\label{ltemc-mqtt_8h_a550b228936d6a66ce971cdc331a53fd1a8c8f9687563c5189305c22c7590c71bc}} 
mqtt\+Qos\+\_\+max\+Azure&QOS 2\+: Exactly once. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2}\label{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttResult\_tag@{mqttResult\_tag}}
\index{mqttResult\_tag@{mqttResult\_tag}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqttResult\_tag}{mqttResult\_tag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2}{mqtt\+Result\+\_\+tag}}}



Emum describing the results of a MQTT publish. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttResult\_retransmission@{mqttResult\_retransmission}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttResult\_retransmission@{mqttResult\_retransmission}}}\mbox{\Hypertarget{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2aedc68fc3c221d4a32102685a1bf9197a}\label{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2aedc68fc3c221d4a32102685a1bf9197a}} 
mqtt\+Result\+\_\+retransmission&Sucessful publish. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttResult\_failed@{mqttResult\_failed}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttResult\_failed@{mqttResult\_failed}}}\mbox{\Hypertarget{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2a7767af10058c9e03b912b38547decf10}\label{ltemc-mqtt_8h_aeb87ffe09946888ae33f48618357ebd2a7767af10058c9e03b912b38547decf10}} 
mqtt\+Result\+\_\+failed&Publish Sucessful, with retransmission. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063}\label{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttState\_tag@{mqttState\_tag}}
\index{mqttState\_tag@{mqttState\_tag}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqttState\_tag}{mqttState\_tag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063}{mqtt\+State\+\_\+tag}}}



Emum describing current state of the MQTT protocol service. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttState\_open@{mqttState\_open}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttState\_open@{mqttState\_open}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063ada58d8512a7fca08fa0cde6b12f04c66}\label{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063ada58d8512a7fca08fa0cde6b12f04c66}} 
mqtt\+State\+\_\+open&MQTT is idle, not active. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttState\_connected@{mqttState\_connected}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttState\_connected@{mqttState\_connected}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a6b9d8a30d433e092ffc14895e631d5e2}\label{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a6b9d8a30d433e092ffc14895e631d5e2}} 
mqtt\+State\+\_\+connected&MQTT is open, open but not connected. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttState\_invalidHost@{mqttState\_invalidHost}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttState\_invalidHost@{mqttState\_invalidHost}}}\mbox{\Hypertarget{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a63c7cdd39606db635719bea9f221fdf0}\label{ltemc-mqtt_8h_a5432cc81adbb33e8e2453974e97af063a63c7cdd39606db635719bea9f221fdf0}} 
mqtt\+State\+\_\+invalid\+Host&MQTT is connected, in session with server. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767}\label{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttVersion\_tag@{mqttVersion\_tag}}
\index{mqttVersion\_tag@{mqttVersion\_tag}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqttVersion\_tag}{mqttVersion\_tag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767}{mqtt\+Version\+\_\+tag}}}



Enum of available MQTT protocol version options. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mqttVersion\_311@{mqttVersion\_311}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqttVersion\_311@{mqttVersion\_311}}}\mbox{\Hypertarget{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767acba79b73a8bc8355937cb8ace9e9994d}\label{ltemc-mqtt_8h_ad1ade03ddc4349123bb244da87f1b767acba79b73a8bc8355937cb8ace9e9994d}} 
mqtt\+Version\+\_\+311&Set behavior to MQTT version 3.\+0. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc-mqtt_8h_a4dff0867caf18bd5df5c3b56fb919bdb}\label{ltemc-mqtt_8h_a4dff0867caf18bd5df5c3b56fb919bdb}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_connect@{mqtt\_\_connect}}
\index{mqtt\_\_connect@{mqtt\_\_connect}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_\_connect()}{mqtt\_\_connect()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+\+\_\+connect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{clean\+Session }\end{DoxyParamCaption})}



Authenicate to MQTT server and create a connected data session. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em clean\+Session} & \mbox{[}in\mbox{]} True if connection should be flushed of prior msgs to start \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8h_a2be423b4e3745f65617af7a8c9010fb1}\label{ltemc-mqtt_8h_a2be423b4e3745f65617af7a8c9010fb1}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_\_open@{mqtt\_\_open}}
\index{mqtt\_\_open@{mqtt\_\_open}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_\_open()}{mqtt\_\_open()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Open a remote MQTT server for use. 

The recommended approach is to use \mbox{\hyperlink{ltemc-mqtt_8h_a45a23ea200618b416d0e2e317317d399}{mqtt\+\_\+start()}} and \mbox{\hyperlink{ltemc-mqtt_8h_a157ce4debcceb51a37559fa9aa18db4e}{mqtt\+\_\+reset()}} for server connections. The


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mqtt\+Ctrl} & MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8h_ab4179e72b503c237427c96fed98953c8}\label{ltemc-mqtt_8h_ab4179e72b503c237427c96fed98953c8}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_cancelTopic@{mqtt\_cancelTopic}}
\index{mqtt\_cancelTopic@{mqtt\_cancelTopic}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_cancelTopic()}{mqtt\_cancelTopic()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+cancel\+Topic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl }\end{DoxyParamCaption})}



Unsubscribe from a MQTT topic on the server. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em topic} & \mbox{[}in\mbox{]} C-\/string containing the topic you are no longer interested in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure.
\end{DoxyReturn}
Unsubscribe from a MQTT topic on the server. \mbox{\Hypertarget{ltemc-mqtt_8h_afb874ed8fe83efb81a6e206a00059ad0}\label{ltemc-mqtt_8h_afb874ed8fe83efb81a6e206a00059ad0}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_close@{mqtt\_close}}
\index{mqtt\_close@{mqtt\_close}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_close()}{mqtt\_close()}}
{\footnotesize\ttfamily void mqtt\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Disconnect and close a connection to a MQTT server. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8h_a2e0147daee6cbbc04f1a97bfa7997216}\label{ltemc-mqtt_8h_a2e0147daee6cbbc04f1a97bfa7997216}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_fetchStatus@{mqtt\_fetchStatus}}
\index{mqtt\_fetchStatus@{mqtt\_fetchStatus}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_fetchStatus()}{mqtt\_fetchStatus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} mqtt\+\_\+fetch\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Query device for current MQTT connection state. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A mqtt\+State\+\_\+t value indicating the state of the MQTT connection.
\end{DoxyReturn}
Query device for current MQTT connection state.

\begin{DoxyNote}{Note}
This function works around a known issue with most (if not all) BGx firmware versions. 
\end{DoxyNote}
\mbox{\Hypertarget{ltemc-mqtt_8h_ac8270aa2b36e59034bbce57252715120}\label{ltemc-mqtt_8h_ac8270aa2b36e59034bbce57252715120}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_getErrCode@{mqtt\_getErrCode}}
\index{mqtt\_getErrCode@{mqtt\_getErrCode}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_getErrCode()}{mqtt\_getErrCode()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Err\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the MQTT status error code. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer value of the MQTT status error code.
\end{DoxyReturn}
Get the MQTT status error code. \mbox{\Hypertarget{ltemc-mqtt_8h_ad389b44dfd5d03013965a812df57a0f0}\label{ltemc-mqtt_8h_ad389b44dfd5d03013965a812df57a0f0}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_getRecvMsgId@{mqtt\_getRecvMsgId}}
\index{mqtt\_getRecvMsgId@{mqtt\_getRecvMsgId}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_getRecvMsgId()}{mqtt\_getRecvMsgId()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Recv\+Msg\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the last incoming message ID. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer value of the message identifier. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8h_acaf74caa6843d083f3f2fc65f6300dbe}\label{ltemc-mqtt_8h_acaf74caa6843d083f3f2fc65f6300dbe}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_getSentMsgId@{mqtt\_getSentMsgId}}
\index{mqtt\_getSentMsgId@{mqtt\_getSentMsgId}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_getSentMsgId()}{mqtt\_getSentMsgId()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Sent\+Msg\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the last outgoing message ID. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer value of the message identifier. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8h_a7fbc5df4372ae5a51a3a0abd28c4535f}\label{ltemc-mqtt_8h_a7fbc5df4372ae5a51a3a0abd28c4535f}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_getStatus@{mqtt\_getStatus}}
\index{mqtt\_getStatus@{mqtt\_getStatus}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_getStatus()}{mqtt\_getStatus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} mqtt\+\_\+get\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get current MQTT connection state. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on.\\
\hline
\end{DoxyParams}
Get current MQTT connection state.


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A mqtt\+State\+\_\+t value indicating the state of the MQTT connection. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8h_ac7e3fe00205f66724d71459625dc208f}\label{ltemc-mqtt_8h_ac7e3fe00205f66724d71459625dc208f}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_initControl@{mqtt\_initControl}}
\index{mqtt\_initControl@{mqtt\_initControl}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_initControl()}{mqtt\_initControl()}}
{\footnotesize\ttfamily void mqtt\+\_\+init\+Control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}}}]{data\+Cntxt }\end{DoxyParamCaption})}



Initialize a MQTT protocol control structure. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT control structure governing communications. \\
\hline
{\em data\+Cntxt} & \mbox{[}in\mbox{]} Socket/data context to host this protocol stream. \\
\hline
{\em recv\+Callback} & \mbox{[}in\mbox{]} Callback function to be invoked when received data is ready. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8h_a059de009eb975ced3a149d9b0b9fec96}\label{ltemc-mqtt_8h_a059de009eb975ced3a149d9b0b9fec96}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_initTopicControl@{mqtt\_initTopicControl}}
\index{mqtt\_initTopicControl@{mqtt\_initTopicControl}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_initTopicControl()}{mqtt\_initTopicControl()}}
{\footnotesize\ttfamily void mqtt\+\_\+init\+Topic\+Control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl,  }\item[{const char $\ast$}]{topic,  }\item[{uint8\+\_\+t}]{qos,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}{mqtt\+App\+Recv\+\_\+func}}}]{app\+Topic\+Recv\+CB }\end{DoxyParamCaption})}



Initialize a (subscription) topic control structure. 

The topic control supports multilevel wildcards only, by suffixing your topic with /\# the wildcard will be detected and handled during message receipt. The application receive function will be called multiple times per message, each invoke delivering different parts of the incoming message.


\begin{DoxyParams}{Parameters}
{\em topic\+Ctrl} & Pointer to the control to initialize \\
\hline
{\em topic} & Topic name to subscribe to on the MQTT server \\
\hline
{\em qos} & The MQTT defined quality-\/of-\/service for messages serviced in this topic (0=At most once, 1=At least once, 2=Exactly once) \\
\hline
{\em app\+Topic\+Recv\+CB} & Pointer to the application function to receive incoming messages for this topic\\
\hline
\end{DoxyParams}
Initialize a (subscription) topic control structure. \mbox{\Hypertarget{ltemc-mqtt_8h_a6e6260585946cd8f28410cae3310869b}\label{ltemc-mqtt_8h_a6e6260585946cd8f28410cae3310869b}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_publish@{mqtt\_publish}}
\index{mqtt\_publish@{mqtt\_publish}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_publish()}{mqtt\_publish()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+publish (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{const char $\ast$}]{topic,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}}}]{qos,  }\item[{const char $\ast$}]{message,  }\item[{uint16\+\_\+t}]{message\+Sz,  }\item[{uint8\+\_\+t}]{timeout\+Sec }\end{DoxyParamCaption})}



Publish (send) a message to the MQTT server. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em topic} & The topic for the message being sent, the server will resend the msg to other clients subscribed to the topic. \\
\hline
{\em qos} & The quality-\/of-\/service for this message (delivery assurance consideration) \\
\hline
{\em message} & The message to send (\texorpdfstring{$<$}{<} 4096 chars) \\
\hline
{\em message\+Sz} & Size of the message \\
\hline
{\em timeout\+Sec} & The number of seconds to wait for completion of the send operation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure.
\end{DoxyReturn}
Publish (send) a message to the MQTT server. \mbox{\Hypertarget{ltemc-mqtt_8h_a157ce4debcceb51a37559fa9aa18db4e}\label{ltemc-mqtt_8h_a157ce4debcceb51a37559fa9aa18db4e}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_reset@{mqtt\_reset}}
\index{mqtt\_reset@{mqtt\_reset}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_reset()}{mqtt\_reset()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{reset\+Modem }\end{DoxyParamCaption})}



Disconnect and close a connection to a MQTT server. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em reset\+Modem} & \mbox{[}in\mbox{]} True if modem should be reset prior to reestablishing MQTT connection.\\
\hline
\end{DoxyParams}
Disconnect and close a connection to a MQTT server.


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em reset\+Modem} & \mbox{[}in\mbox{]} True if modem should be reset prior to reestablishing MQTT connection. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8h_a45a23ea200618b416d0e2e317317d399}\label{ltemc-mqtt_8h_a45a23ea200618b416d0e2e317317d399}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_start@{mqtt\_start}}
\index{mqtt\_start@{mqtt\_start}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_start()}{mqtt\_start()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{clean\+Session }\end{DoxyParamCaption})}



Open a remote MQTT server for use. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mqtt\+Ctrl} & MQTT stream control to operate with. \\
\hline
\mbox{\texttt{ in}}  & {\em clean\+Session} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure.
\end{DoxyReturn}
Open a remote MQTT server for use. \mbox{\Hypertarget{ltemc-mqtt_8h_a64c9cfc49e71e6b77c483ecd7d5c2d17}\label{ltemc-mqtt_8h_a64c9cfc49e71e6b77c483ecd7d5c2d17}} 
\index{ltemc-\/mqtt.h@{ltemc-\/mqtt.h}!mqtt\_subscribeTopic@{mqtt\_subscribeTopic}}
\index{mqtt\_subscribeTopic@{mqtt\_subscribeTopic}!ltemc-\/mqtt.h@{ltemc-\/mqtt.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_subscribeTopic()}{mqtt\_subscribeTopic()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+subscribe\+Topic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl }\end{DoxyParamCaption})}



Subscribe to a MQTT topic on the server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mqtt\+Ctrl} & Pointer to MQTT type stream control to operate on. \\
\hline
\mbox{\texttt{ in}}  & {\em topic} & C-\/string containing the topic you are subcribing to. \\
\hline
 & {\em qos} & \mbox{[}in\mbox{]} (enum) Received message qos options for subscribed messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A result\+Code\+\_\+t value indicating the success or type of failure.
\end{DoxyReturn}
Subscribe to a MQTT topic on the server. 