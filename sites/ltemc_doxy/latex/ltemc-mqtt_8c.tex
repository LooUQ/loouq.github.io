\hypertarget{ltemc-mqtt_8c}{}\doxysection{C\+:/\+Users/\+Greg\+Terrell/\+Documents/\+Code\+Dev/\+Arduino/libraries/\+Loo\+UQ-\/\+LTEm\+C/src/ltemc-\/mqtt.c File Reference}
\label{ltemc-mqtt_8c}\index{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/mqtt.c@{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/mqtt.c}}


Public API providing MQTT/\+MQTTS support.  


{\ttfamily \#include $<$jlink\+Rtt.\+h$>$}\newline
{\ttfamily \#include \char`\"{}ltemc-\/internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/mqtt.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a152fc5203b90b1cff03b7b78579b8f52}\label{ltemc-mqtt_8c_a152fc5203b90b1cff03b7b78579b8f52}} 
\#define {\bfseries \+\_\+\+DEBUG}~2
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a7acb4d06a9fd952f51471791f06d60a8}\label{ltemc-mqtt_8c_a7acb4d06a9fd952f51471791f06d60a8}} 
\#define {\bfseries PRINTF}(c\+\_\+,  f\+\_\+,  \+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+...)~do \{ rtt\+\_\+printf(c\+\_\+, (f\+\_\+), \#\# \+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+); \} while(0)
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a2f0e3a84d1660f6424fdc69e2e1aea8d}\label{ltemc-mqtt_8c_a2f0e3a84d1660f6424fdc69e2e1aea8d}} 
\#define {\bfseries SRCFILE}~\char`\"{}MQT\char`\"{}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_aacc3ee1a7f283f8ef65cea31f4436a95}\label{ltemc-mqtt_8c_aacc3ee1a7f283f8ef65cea31f4436a95}} 
\#define {\bfseries MAX}(x,  y)~(((x) $>$ (y)) ? (x) \+: (y))
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a74e75242132eaabbc1c512488a135926}\label{ltemc-mqtt_8c_a74e75242132eaabbc1c512488a135926}} 
\#define {\bfseries MIN}(x,  y)~(((x) $<$ (y)) ? (x) \+: (y))
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_aea51ccaa5e874f93c9d2d4f6c0571eb7}\label{ltemc-mqtt_8c_aea51ccaa5e874f93c9d2d4f6c0571eb7}} 
\#define {\bfseries ASCII\+\_\+\+Ctrl\+Z\+\_\+\+STR}~\char`\"{}\textbackslash{}x1\+A\char`\"{}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_ab7b111cecd9d02871b9a540fec898288}\label{ltemc-mqtt_8c_ab7b111cecd9d02871b9a540fec898288}} 
\#define {\bfseries ASCII\+\_\+\+ESC\+\_\+\+STR}~\char`\"{}\textbackslash{}x1\+B\char`\"{}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a2b89e9ab95d93dd5fc5d800df5de1467}\label{ltemc-mqtt_8c_a2b89e9ab95d93dd5fc5d800df5de1467}} 
\#define {\bfseries ASCII\+\_\+\+Dbl\+Quote\+\_\+\+CHAR}~\textquotesingle{}\char`\"{}\textquotesingle{}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a06fc87d81c62e9abb8790b6e5713c55b}\label{ltemc-mqtt_8c_a06fc87d81c62e9abb8790b6e5713c55b}} 
enum \{ {\bfseries result\+Code\+\_\+\+\_\+parser\+Pending} = 0x\+FFFF
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_abf9daa62d261abcac1e4cb27c9e72adf}\label{ltemc-mqtt_8c_abf9daa62d261abcac1e4cb27c9e72adf}} 
{\bfseries asm} (\char`\"{}.global \+\_\+printf\+\_\+float\char`\"{})
\item 
void \mbox{\hyperlink{ltemc-mqtt_8c_ac7e3fe00205f66724d71459625dc208f}{mqtt\+\_\+init\+Control}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}} data\+Cntxt)
\begin{DoxyCompactList}\small\item\em Initialize a MQTT protocol control structure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-mqtt_8c_a059de009eb975ced3a149d9b0b9fec96}{mqtt\+\_\+init\+Topic\+Control}} (\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl, const char $\ast$topic, uint8\+\_\+t qos, \mbox{\hyperlink{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}{mqtt\+App\+Recv\+\_\+func}} app\+Topic\+Recv\+CB)
\begin{DoxyCompactList}\small\item\em Initialize a MQTT topic subscription control structure. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_a803b63143732cb1c0e5666f2f7a95215}\label{ltemc-mqtt_8c_a803b63143732cb1c0e5666f2f7a95215}} 
void {\bfseries mqtt\+\_\+set\+Connection} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, const char $\ast$host\+Url, uint16\+\_\+t host\+Port, bool use\+Tls, \mbox{\hyperlink{ltemc-mqtt_8h_af6396985642256a42f60af322da5124f}{mqtt\+Version\+\_\+t}} mqtt\+Version, const char $\ast$client\+Id, const char $\ast$username, const char $\ast$password)
\begin{DoxyCompactList}\small\item\em Set the remote server connection values. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_ac64d750e45e17a384b1292f187813df3}{mqtt\+\_\+open}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Open a remote MQTT server IP connection for use. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_acecf1415da09fc451851f56cb7505935}{mqtt\+\_\+connect}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool clean\+Session)
\begin{DoxyCompactList}\small\item\em Connect (authenticate) to a MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_a45a23ea200618b416d0e2e317317d399}{mqtt\+\_\+start}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool clean\+Session)
\begin{DoxyCompactList}\small\item\em Open and connect to a remote MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_a64c9cfc49e71e6b77c483ecd7d5c2d17}{mqtt\+\_\+subscribe\+Topic}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl)
\begin{DoxyCompactList}\small\item\em Open and connect to a remote MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_ab4179e72b503c237427c96fed98953c8}{mqtt\+\_\+cancel\+Topic}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, \mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$topic\+Ctrl)
\begin{DoxyCompactList}\small\item\em Unsubscribe from a topic on the MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_a6e6260585946cd8f28410cae3310869b}{mqtt\+\_\+publish}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, const char $\ast$topic, \mbox{\hyperlink{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}} qos, const char $\ast$message, uint16\+\_\+t message\+Sz, uint8\+\_\+t timeout\+Sec)
\begin{DoxyCompactList}\small\item\em Publish a message to server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-mqtt_8c_afb874ed8fe83efb81a6e206a00059ad0}{mqtt\+\_\+close}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Disconnect and close a connection to a MQTT server. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_a157ce4debcceb51a37559fa9aa18db4e}{mqtt\+\_\+reset}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl, bool reset\+Modem)
\begin{DoxyCompactList}\small\item\em Reset and attempt to reestablish a server connection. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} \mbox{\hyperlink{ltemc-mqtt_8c_a7fbc5df4372ae5a51a3a0abd28c4535f}{mqtt\+\_\+get\+Status}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Return current MQTT connection state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} \mbox{\hyperlink{ltemc-mqtt_8c_a2e0147daee6cbbc04f1a97bfa7997216}{mqtt\+\_\+fetch\+Status}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Query the status of the MQTT connection state. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_acaf74caa6843d083f3f2fc65f6300dbe}{mqtt\+\_\+get\+Sent\+Msg\+Id}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the last outgoing message ID. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_ad389b44dfd5d03013965a812df57a0f0}{mqtt\+\_\+get\+Recv\+Msg\+Id}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the last incoming message ID. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-mqtt_8c_ac8270aa2b36e59034bbce57252715120}{mqtt\+\_\+get\+Err\+Code}} (\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$mqtt\+Ctrl)
\begin{DoxyCompactList}\small\item\em Get the last incoming message ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-mqtt_8c_aa520cbfde107f228ddd40be60d2b6905}\label{ltemc-mqtt_8c_aa520cbfde107f228ddd40be60d2b6905}} 
\mbox{\hyperlink{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}} {\bfseries g\+\_\+lq\+LTEM}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Public API providing MQTT/\+MQTTS support. 

\DoxyHorRuler{0}


\begin{DoxyAuthor}{Author}
Greg Terrell, Loo\+UQ Incorporated
\end{DoxyAuthor}
{\bfseries{Loo\+UQ Incorporated}}~\newline
\href{mailto:answers@loouq.com}{\texttt{ answers@loouq.\+com}}~\newline
807 Airport Access Road, Suite 201, Traverse City, MI 49686 USA~\newline
~\newline
Copyright (c) 2020-\/2023 Loo\+UQ Incorporated.~\newline
This project is released under the GPL-\/3.\+0 License.

\DoxyHorRuler{0}
 \begin{DoxyVerb}This project is released under the GPL-3.0 License.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc-mqtt_8c_ab4179e72b503c237427c96fed98953c8}\label{ltemc-mqtt_8c_ab4179e72b503c237427c96fed98953c8}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_cancelTopic@{mqtt\_cancelTopic}}
\index{mqtt\_cancelTopic@{mqtt\_cancelTopic}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_cancelTopic()}{mqtt\_cancelTopic()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+cancel\+Topic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl }\end{DoxyParamCaption})}



Unsubscribe from a topic on the MQTT server. 

Unsubscribe from a MQTT topic on the server. \mbox{\Hypertarget{ltemc-mqtt_8c_afb874ed8fe83efb81a6e206a00059ad0}\label{ltemc-mqtt_8c_afb874ed8fe83efb81a6e206a00059ad0}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_close@{mqtt\_close}}
\index{mqtt\_close@{mqtt\_close}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_close()}{mqtt\_close()}}
{\footnotesize\ttfamily void mqtt\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Disconnect and close a connection to a MQTT server. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8c_acecf1415da09fc451851f56cb7505935}\label{ltemc-mqtt_8c_acecf1415da09fc451851f56cb7505935}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_connect@{mqtt\_connect}}
\index{mqtt\_connect@{mqtt\_connect}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_connect()}{mqtt\_connect()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+connect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{clean\+Session }\end{DoxyParamCaption})}



Connect (authenticate) to a MQTT server. 

Preferred way for user app to connect to server is via \mbox{\hyperlink{ltemc-mqtt_8c_a45a23ea200618b416d0e2e317317d399}{mqtt\+\_\+start()}} or \mbox{\hyperlink{ltemc-mqtt_8c_a157ce4debcceb51a37559fa9aa18db4e}{mqtt\+\_\+reset()}} \mbox{\Hypertarget{ltemc-mqtt_8c_a2e0147daee6cbbc04f1a97bfa7997216}\label{ltemc-mqtt_8c_a2e0147daee6cbbc04f1a97bfa7997216}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_fetchStatus@{mqtt\_fetchStatus}}
\index{mqtt\_fetchStatus@{mqtt\_fetchStatus}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_fetchStatus()}{mqtt\_fetchStatus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} mqtt\+\_\+fetch\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Query the status of the MQTT connection state. 

Query device for current MQTT connection state.

\begin{DoxyNote}{Note}
This function works around a known issue with most (if not all) BGx firmware versions. 
\end{DoxyNote}
\mbox{\Hypertarget{ltemc-mqtt_8c_ac8270aa2b36e59034bbce57252715120}\label{ltemc-mqtt_8c_ac8270aa2b36e59034bbce57252715120}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_getErrCode@{mqtt\_getErrCode}}
\index{mqtt\_getErrCode@{mqtt\_getErrCode}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_getErrCode()}{mqtt\_getErrCode()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Err\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the last incoming message ID. 

Get the MQTT status error code. \mbox{\Hypertarget{ltemc-mqtt_8c_ad389b44dfd5d03013965a812df57a0f0}\label{ltemc-mqtt_8c_ad389b44dfd5d03013965a812df57a0f0}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_getRecvMsgId@{mqtt\_getRecvMsgId}}
\index{mqtt\_getRecvMsgId@{mqtt\_getRecvMsgId}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_getRecvMsgId()}{mqtt\_getRecvMsgId()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Recv\+Msg\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the last incoming message ID. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer value of the message identifier. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8c_acaf74caa6843d083f3f2fc65f6300dbe}\label{ltemc-mqtt_8c_acaf74caa6843d083f3f2fc65f6300dbe}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_getSentMsgId@{mqtt\_getSentMsgId}}
\index{mqtt\_getSentMsgId@{mqtt\_getSentMsgId}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_getSentMsgId()}{mqtt\_getSentMsgId()}}
{\footnotesize\ttfamily uint16\+\_\+t mqtt\+\_\+get\+Sent\+Msg\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Get the last outgoing message ID. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer value of the message identifier. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8c_a7fbc5df4372ae5a51a3a0abd28c4535f}\label{ltemc-mqtt_8c_a7fbc5df4372ae5a51a3a0abd28c4535f}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_getStatus@{mqtt\_getStatus}}
\index{mqtt\_getStatus@{mqtt\_getStatus}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_getStatus()}{mqtt\_getStatus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-mqtt_8h_ae6c8dd33f85964954ee76aa63055cfd6}{mqtt\+State\+\_\+t}} mqtt\+\_\+get\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Return current MQTT connection state. 

Get current MQTT connection state.


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A mqtt\+State\+\_\+t value indicating the state of the MQTT connection. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-mqtt_8c_ac7e3fe00205f66724d71459625dc208f}\label{ltemc-mqtt_8c_ac7e3fe00205f66724d71459625dc208f}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_initControl@{mqtt\_initControl}}
\index{mqtt\_initControl@{mqtt\_initControl}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_initControl()}{mqtt\_initControl()}}
{\footnotesize\ttfamily void mqtt\+\_\+init\+Control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-types_8h_a8f196c92332451166a912a2d0220d8c9}{data\+Cntxt\+\_\+t}}}]{data\+Cntxt }\end{DoxyParamCaption})}



Initialize a MQTT protocol control structure. 


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT control structure governing communications. \\
\hline
{\em data\+Cntxt} & \mbox{[}in\mbox{]} Socket/data context to host this protocol stream. \\
\hline
{\em recv\+Callback} & \mbox{[}in\mbox{]} Callback function to be invoked when received data is ready. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8c_a059de009eb975ced3a149d9b0b9fec96}\label{ltemc-mqtt_8c_a059de009eb975ced3a149d9b0b9fec96}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_initTopicControl@{mqtt\_initTopicControl}}
\index{mqtt\_initTopicControl@{mqtt\_initTopicControl}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_initTopicControl()}{mqtt\_initTopicControl()}}
{\footnotesize\ttfamily void mqtt\+\_\+init\+Topic\+Control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl,  }\item[{const char $\ast$}]{topic,  }\item[{uint8\+\_\+t}]{qos,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a745340d5a21db27bfb951acc46d0ed41}{mqtt\+App\+Recv\+\_\+func}}}]{app\+Topic\+Recv\+CB }\end{DoxyParamCaption})}



Initialize a MQTT topic subscription control structure. 

Initialize a (subscription) topic control structure. \mbox{\Hypertarget{ltemc-mqtt_8c_ac64d750e45e17a384b1292f187813df3}\label{ltemc-mqtt_8c_ac64d750e45e17a384b1292f187813df3}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_open@{mqtt\_open}}
\index{mqtt\_open@{mqtt\_open}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_open()}{mqtt\_open()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl }\end{DoxyParamCaption})}



Open a remote MQTT server IP connection for use. 

Preferred way for user app to connect to server is via \mbox{\hyperlink{ltemc-mqtt_8c_a45a23ea200618b416d0e2e317317d399}{mqtt\+\_\+start()}} or \mbox{\hyperlink{ltemc-mqtt_8c_a157ce4debcceb51a37559fa9aa18db4e}{mqtt\+\_\+reset()}} \mbox{\Hypertarget{ltemc-mqtt_8c_a6e6260585946cd8f28410cae3310869b}\label{ltemc-mqtt_8c_a6e6260585946cd8f28410cae3310869b}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_publish@{mqtt\_publish}}
\index{mqtt\_publish@{mqtt\_publish}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_publish()}{mqtt\_publish()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+publish (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{const char $\ast$}]{topic,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_ab96c1d590faaf00728d862d36838bb3c}{mqtt\+Qos\+\_\+t}}}]{qos,  }\item[{const char $\ast$}]{message,  }\item[{uint16\+\_\+t}]{message\+Sz,  }\item[{uint8\+\_\+t}]{timeout\+Sec }\end{DoxyParamCaption})}



Publish a message to server. 

Publish (send) a message to the MQTT server. \mbox{\Hypertarget{ltemc-mqtt_8c_a157ce4debcceb51a37559fa9aa18db4e}\label{ltemc-mqtt_8c_a157ce4debcceb51a37559fa9aa18db4e}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_reset@{mqtt\_reset}}
\index{mqtt\_reset@{mqtt\_reset}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_reset()}{mqtt\_reset()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{reset\+Modem }\end{DoxyParamCaption})}



Reset and attempt to reestablish a server connection. 

Disconnect and close a connection to a MQTT server.


\begin{DoxyParams}{Parameters}
{\em mqtt\+Ctrl} & \mbox{[}in\mbox{]} Pointer to MQTT type stream control to operate on. \\
\hline
{\em reset\+Modem} & \mbox{[}in\mbox{]} True if modem should be reset prior to reestablishing MQTT connection. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-mqtt_8c_a45a23ea200618b416d0e2e317317d399}\label{ltemc-mqtt_8c_a45a23ea200618b416d0e2e317317d399}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_start@{mqtt\_start}}
\index{mqtt\_start@{mqtt\_start}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_start()}{mqtt\_start()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{bool}]{clean\+Session }\end{DoxyParamCaption})}



Open and connect to a remote MQTT server. 

Open a remote MQTT server for use. \mbox{\Hypertarget{ltemc-mqtt_8c_a64c9cfc49e71e6b77c483ecd7d5c2d17}\label{ltemc-mqtt_8c_a64c9cfc49e71e6b77c483ecd7d5c2d17}} 
\index{ltemc-\/mqtt.c@{ltemc-\/mqtt.c}!mqtt\_subscribeTopic@{mqtt\_subscribeTopic}}
\index{mqtt\_subscribeTopic@{mqtt\_subscribeTopic}!ltemc-\/mqtt.c@{ltemc-\/mqtt.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_subscribeTopic()}{mqtt\_subscribeTopic()}}
{\footnotesize\ttfamily result\+Code\+\_\+t mqtt\+\_\+subscribe\+Topic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a876dd6d72ad65cf52ec8fb8ed35fbe91}{mqtt\+Ctrl\+\_\+t}} $\ast$}]{mqtt\+Ctrl,  }\item[{\mbox{\hyperlink{ltemc-mqtt_8h_a6f446d1fbf8b0211fc36cbbd2eaf9512}{mqtt\+Topic\+Ctrl\+\_\+t}} $\ast$}]{topic\+Ctrl }\end{DoxyParamCaption})}



Open and connect to a remote MQTT server. 

Subscribe to a MQTT topic on the server. 