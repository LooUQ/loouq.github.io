\hypertarget{lq_platform-spi_8h}{}\doxysection{src/platform/lq\+Platform-\/spi.h File Reference}
\label{lq_platform-spi_8h}\index{src/platform/lqPlatform-\/spi.h@{src/platform/lqPlatform-\/spi.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structspi__tag}{spi\+\_\+tag}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{lq_platform-spi_8h_a5abf39c836b14008e4aa9f8a35cf5a0d}{S\+P\+I\+\_\+\+N\+O\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+O\+T\+E\+C\+T\+I\+ON}}~-\/1
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structspi__tag}{spi\+\_\+tag}} \mbox{\hyperlink{lq_platform-spi_8h_acbcd2272cd82c50796427c74b6726e91}{spi\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983}{spi\+Bit\+Order\+\_\+t}} \{ \mbox{\hyperlink{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983ace0bc2651cb10b18a0fb04ffc2f23342}{spi\+Bit\+Order\+\_\+lsb\+First}} = 0x0, 
\mbox{\hyperlink{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983af2dfc0fffad69f3c3a7d0035f22ab049}{spi\+Bit\+Order\+\_\+msb\+First}} = 0x1
 \}
\item 
enum \mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2a}{spi\+Data\+Mode\+\_\+t}} \{ \mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aac51c31510b0bd33d6d0c53999946e7cc}{spi\+Data\+Mode\+\_\+0}} = 0x02, 
\mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aad827ce1b584320e05e39bd8d73eb198e}{spi\+Data\+Mode\+\_\+1}} = 0x00, 
\mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa3e3c7d6589eba599af421c28ec4afe79}{spi\+Data\+Mode\+\_\+2}} = 0x03, 
\mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa5332a8182ed21c315178c846426bd17d}{spi\+Data\+Mode\+\_\+3}} = 0x01
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \mbox{\hyperlink{lq_platform-spi_8h_aee8850c224d078301551423b549256f2}{spi\+\_\+create}} (uint8\+\_\+t chip\+Sel\+Line)
\begin{DoxyCompactList}\small\item\em Initialize and configure S\+PI resource. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lq_platform-spi_8h_af13bba8dc61b765c9c87bf71854af7e6}{spi\+\_\+start}} (void $\ast$spi)
\begin{DoxyCompactList}\small\item\em Start S\+PI facility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lq_platform-spi_8h_add9525c59f9ca04352a57672dd3b3367}{spi\+\_\+stop}} (void $\ast$spi)
\begin{DoxyCompactList}\small\item\em Shutdown S\+PI facility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lq_platform-spi_8h_aadd6a2485b229019a4d4646e0b0c59a6}{spi\+\_\+using\+Interrupt}} (void $\ast$spi, int8\+\_\+t irq\+Number)
\begin{DoxyCompactList}\small\item\em Gaurd S\+PI resource from recursive interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lq_platform-spi_8h_ab860ce0b85b73251f77100b3b1fbf4c8}{spi\+\_\+not\+Using\+Interrupt}} (void $\ast$spi, int8\+\_\+t irq\+Number)
\begin{DoxyCompactList}\small\item\em Gaurd S\+PI resource from recursive interrupts. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{lq_platform-spi_8h_ab6a45ca7f91593e6a2ff310e98c0157b}{spi\+\_\+transfer\+Byte}} (void $\ast$spi, uint8\+\_\+t write\+Val)
\begin{DoxyCompactList}\small\item\em Transfer a byte to the N\+XP bridge. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{lq_platform-spi_8h_a0051435d7263d69fc4e6c64ee86fe3aa}{spi\+\_\+transfer\+Word}} (void $\ast$spi, uint16\+\_\+t write\+Val)
\begin{DoxyCompactList}\small\item\em Transfer a word (16-\/bits) to the N\+XP bridge. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lq_platform-spi_8h_a4cd0b73afd1ec8d0bcf5b1fa3c6399de}{spi\+\_\+transfer\+Buffer}} (void $\ast$spi, uint8\+\_\+t reg\+Addr\+Byte, void $\ast$buf, size\+\_\+t xfer\+\_\+len)
\begin{DoxyCompactList}\small\item\em Transfer a buffer to the N\+XP bridge. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{lq_platform-spi_8h_a5abf39c836b14008e4aa9f8a35cf5a0d}\label{lq_platform-spi_8h_a5abf39c836b14008e4aa9f8a35cf5a0d}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!SPI\_NO\_IRQ\_PROTECTION@{SPI\_NO\_IRQ\_PROTECTION}}
\index{SPI\_NO\_IRQ\_PROTECTION@{SPI\_NO\_IRQ\_PROTECTION}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_NO\_IRQ\_PROTECTION}{SPI\_NO\_IRQ\_PROTECTION}}
{\footnotesize\ttfamily \#define S\+P\+I\+\_\+\+N\+O\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+O\+T\+E\+C\+T\+I\+ON~-\/1}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{lq_platform-spi_8h_acbcd2272cd82c50796427c74b6726e91}\label{lq_platform-spi_8h_acbcd2272cd82c50796427c74b6726e91}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_t@{spi\_t}}
\index{spi\_t@{spi\_t}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_t}{spi\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structspi__tag}{spi\+\_\+tag}} \mbox{\hyperlink{lq_platform-spi_8h_acbcd2272cd82c50796427c74b6726e91}{spi\+\_\+t}}}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983}\label{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiBitOrder\_t@{spiBitOrder\_t}}
\index{spiBitOrder\_t@{spiBitOrder\_t}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spiBitOrder\_t}{spiBitOrder\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983}{spi\+Bit\+Order\+\_\+t}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{spiBitOrder\_lsbFirst@{spiBitOrder\_lsbFirst}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiBitOrder\_lsbFirst@{spiBitOrder\_lsbFirst}}}\mbox{\Hypertarget{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983ace0bc2651cb10b18a0fb04ffc2f23342}\label{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983ace0bc2651cb10b18a0fb04ffc2f23342}} 
spi\+Bit\+Order\+\_\+lsb\+First&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{spiBitOrder\_msbFirst@{spiBitOrder\_msbFirst}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiBitOrder\_msbFirst@{spiBitOrder\_msbFirst}}}\mbox{\Hypertarget{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983af2dfc0fffad69f3c3a7d0035f22ab049}\label{lq_platform-spi_8h_a41e9db63135115a4aeec30d37da5f983af2dfc0fffad69f3c3a7d0035f22ab049}} 
spi\+Bit\+Order\+\_\+msb\+First&\\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2a}\label{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2a}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiDataMode\_t@{spiDataMode\_t}}
\index{spiDataMode\_t@{spiDataMode\_t}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spiDataMode\_t}{spiDataMode\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2a}{spi\+Data\+Mode\+\_\+t}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{spiDataMode\_0@{spiDataMode\_0}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiDataMode\_0@{spiDataMode\_0}}}\mbox{\Hypertarget{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aac51c31510b0bd33d6d0c53999946e7cc}\label{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aac51c31510b0bd33d6d0c53999946e7cc}} 
spi\+Data\+Mode\+\_\+0&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{spiDataMode\_1@{spiDataMode\_1}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiDataMode\_1@{spiDataMode\_1}}}\mbox{\Hypertarget{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aad827ce1b584320e05e39bd8d73eb198e}\label{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aad827ce1b584320e05e39bd8d73eb198e}} 
spi\+Data\+Mode\+\_\+1&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{spiDataMode\_2@{spiDataMode\_2}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiDataMode\_2@{spiDataMode\_2}}}\mbox{\Hypertarget{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa3e3c7d6589eba599af421c28ec4afe79}\label{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa3e3c7d6589eba599af421c28ec4afe79}} 
spi\+Data\+Mode\+\_\+2&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{spiDataMode\_3@{spiDataMode\_3}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spiDataMode\_3@{spiDataMode\_3}}}\mbox{\Hypertarget{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa5332a8182ed21c315178c846426bd17d}\label{lq_platform-spi_8h_a56cf6a29389ff85388002cb9d2c5df2aa5332a8182ed21c315178c846426bd17d}} 
spi\+Data\+Mode\+\_\+3&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{lq_platform-spi_8h_aee8850c224d078301551423b549256f2}\label{lq_platform-spi_8h_aee8850c224d078301551423b549256f2}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_create@{spi\_create}}
\index{spi\_create@{spi\_create}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_create()}{spi\_create()}}
{\footnotesize\ttfamily void$\ast$ spi\+\_\+create (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{chip\+Sel\+Line }\end{DoxyParamCaption})}



Initialize and configure S\+PI resource. 


\begin{DoxyParams}{Parameters}
{\em chip\+Sel\+Line} & \mbox{[}in\mbox{]} -\/ G\+P\+IO for CS \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+PI device 
\end{DoxyReturn}
\mbox{\Hypertarget{lq_platform-spi_8h_ab860ce0b85b73251f77100b3b1fbf4c8}\label{lq_platform-spi_8h_ab860ce0b85b73251f77100b3b1fbf4c8}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_notUsingInterrupt@{spi\_notUsingInterrupt}}
\index{spi\_notUsingInterrupt@{spi\_notUsingInterrupt}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_notUsingInterrupt()}{spi\_notUsingInterrupt()}}
{\footnotesize\ttfamily void spi\+\_\+not\+Using\+Interrupt (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi,  }\item[{int8\+\_\+t}]{irq\+Number }\end{DoxyParamCaption})}



Gaurd S\+PI resource from recursive interrupts. 

\mbox{\Hypertarget{lq_platform-spi_8h_af13bba8dc61b765c9c87bf71854af7e6}\label{lq_platform-spi_8h_af13bba8dc61b765c9c87bf71854af7e6}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_start@{spi\_start}}
\index{spi\_start@{spi\_start}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_start()}{spi\_start()}}
{\footnotesize\ttfamily void spi\+\_\+start (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi }\end{DoxyParamCaption})}



Start S\+PI facility. 

\mbox{\Hypertarget{lq_platform-spi_8h_add9525c59f9ca04352a57672dd3b3367}\label{lq_platform-spi_8h_add9525c59f9ca04352a57672dd3b3367}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_stop@{spi\_stop}}
\index{spi\_stop@{spi\_stop}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_stop()}{spi\_stop()}}
{\footnotesize\ttfamily void spi\+\_\+stop (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi }\end{DoxyParamCaption})}



Shutdown S\+PI facility. 

\mbox{\Hypertarget{lq_platform-spi_8h_a4cd0b73afd1ec8d0bcf5b1fa3c6399de}\label{lq_platform-spi_8h_a4cd0b73afd1ec8d0bcf5b1fa3c6399de}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_transferBuffer@{spi\_transferBuffer}}
\index{spi\_transferBuffer@{spi\_transferBuffer}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_transferBuffer()}{spi\_transferBuffer()}}
{\footnotesize\ttfamily void spi\+\_\+transfer\+Buffer (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi,  }\item[{uint8\+\_\+t}]{reg\+Addr\+Byte,  }\item[{void $\ast$}]{buf,  }\item[{size\+\_\+t}]{xfer\+\_\+len }\end{DoxyParamCaption})}



Transfer a buffer to the N\+XP bridge. 


\begin{DoxyParams}{Parameters}
{\em spi} & \mbox{[}in\mbox{]} -\/ The S\+PI device for communications. \\
\hline
{\em reg\+Addr\+Byte} & \mbox{[}in\mbox{]} -\/ Bridge register address specifying the I/O to perform. \\
\hline
{\em buf} & \mbox{[}in/out\mbox{]} -\/ The character pointer to the buffer to transfer to/from. \\
\hline
{\em xfer\+\_\+len} & \mbox{[}in\mbox{]} -\/ The number of characters to transfer. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{lq_platform-spi_8h_ab6a45ca7f91593e6a2ff310e98c0157b}\label{lq_platform-spi_8h_ab6a45ca7f91593e6a2ff310e98c0157b}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_transferByte@{spi\_transferByte}}
\index{spi\_transferByte@{spi\_transferByte}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_transferByte()}{spi\_transferByte()}}
{\footnotesize\ttfamily uint8\+\_\+t spi\+\_\+transfer\+Byte (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi,  }\item[{uint8\+\_\+t}]{data }\end{DoxyParamCaption})}



Transfer a byte to the N\+XP bridge. 


\begin{DoxyParams}{Parameters}
{\em spi} & \mbox{[}in\mbox{]} -\/ The S\+PI device for communications. \\
\hline
{\em data} & \mbox{[}in/out\mbox{]} -\/ The word to transfer to the N\+XP bridge.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A 16-\/bit word received during the transfer. 
\end{DoxyReturn}
\mbox{\Hypertarget{lq_platform-spi_8h_a0051435d7263d69fc4e6c64ee86fe3aa}\label{lq_platform-spi_8h_a0051435d7263d69fc4e6c64ee86fe3aa}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_transferWord@{spi\_transferWord}}
\index{spi\_transferWord@{spi\_transferWord}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_transferWord()}{spi\_transferWord()}}
{\footnotesize\ttfamily uint16\+\_\+t spi\+\_\+transfer\+Word (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi,  }\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})}



Transfer a word (16-\/bits) to the N\+XP bridge. 


\begin{DoxyParams}{Parameters}
{\em spi} & \mbox{[}in\mbox{]} -\/ The S\+PI device for communications. \\
\hline
{\em data} & \mbox{[}in/out\mbox{]} -\/ The word to transfer to the N\+XP bridge.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A 16-\/bit word received during the transfer. 
\end{DoxyReturn}
\mbox{\Hypertarget{lq_platform-spi_8h_aadd6a2485b229019a4d4646e0b0c59a6}\label{lq_platform-spi_8h_aadd6a2485b229019a4d4646e0b0c59a6}} 
\index{lqPlatform-\/spi.h@{lqPlatform-\/spi.h}!spi\_usingInterrupt@{spi\_usingInterrupt}}
\index{spi\_usingInterrupt@{spi\_usingInterrupt}!lqPlatform-\/spi.h@{lqPlatform-\/spi.h}}
\doxysubsubsection{\texorpdfstring{spi\_usingInterrupt()}{spi\_usingInterrupt()}}
{\footnotesize\ttfamily void spi\+\_\+using\+Interrupt (\begin{DoxyParamCaption}\item[{void $\ast$}]{spi,  }\item[{int8\+\_\+t}]{irq\+Number }\end{DoxyParamCaption})}



Gaurd S\+PI resource from recursive interrupts. 

