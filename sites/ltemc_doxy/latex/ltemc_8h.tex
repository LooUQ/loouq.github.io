\hypertarget{ltemc_8h}{}\doxysection{src/ltemc.h File Reference}
\label{ltemc_8h}\index{src/ltemc.h@{src/ltemc.h}}
{\ttfamily \#include $<$lq-\/types.\+h$>$}\newline
{\ttfamily \#include $<$lq-\/diagnostics.\+h$>$}\newline
{\ttfamily \#include \char`\"{}ltemc-\/filecodes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lq-\/platform.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/quectel-\/bg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/iop.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/atcmd.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/mdminfo.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/network.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ltemc_8h_a906672420bc5750a95a4ffd6857dd30f}{ltem\+\_\+create}} (const \mbox{\hyperlink{lq_platform-gpio_8h_a179aa93a99cd81e3a0f037bd9f07d70e}{ltem\+Pin\+Config\+\_\+t}} ltem\+\_\+config, app\+Notify\+Func\+\_\+t app\+Notify\+CB)
\begin{DoxyCompactList}\small\item\em Initialize the L\+T\+Em1 modem. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_adc4fe577a31799623ad85245e64dfea5}{ltem\+\_\+destroy}} ()
\begin{DoxyCompactList}\small\item\em Uninitialize the L\+TE modem. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_aca549beee5abfb00b29c677d37e6d777}{ltem\+\_\+start}} ()
\begin{DoxyCompactList}\small\item\em Power on and start the modem (perform component init). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_a5fde19665106d68b37d5d3161a9f3560}{ltem\+\_\+stop}} ()
\begin{DoxyCompactList}\small\item\em Powers off the modem without destroying memory objects. Modem device will require \mbox{\hyperlink{ltemc_8c_aca549beee5abfb00b29c677d37e6d777}{ltem\+\_\+start()}} to reinit HW. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_a0238192a8a5f8f8fde7e934c0aa01ab3}{ltem\+\_\+reset}} ()
\begin{DoxyCompactList}\small\item\em Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc_8h_a38b219b10645a48d462e8cb69e0f576a}{ltem\+\_\+chk\+Hw\+Ready}} ()
\begin{DoxyCompactList}\small\item\em Check the B\+Gx for hardware ready (status pin). \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-quectel-bg_8h_a3b346c5dfd0f8d950e7bc92c1b22b844}{qbg\+Ready\+State\+\_\+t}} \mbox{\hyperlink{ltemc_8h_aa92d5ab484a2fdaff02c5601b12eb9e2}{ltem\+\_\+get\+Ready\+State}} ()
\begin{DoxyCompactList}\small\item\em Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_a5b79bd67186c40d469be1bcc5dcd412b}{ltem\+\_\+do\+Work}} ()
\begin{DoxyCompactList}\small\item\em Background work task runner. To be called in application Loop() periodically. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_a80df97bbc632eda7178e56368c3d0a1e}{ltem\+\_\+notify\+App}} (uint8\+\_\+t notify\+Type, const char $\ast$notify\+Msg)
\begin{DoxyCompactList}\small\item\em Function of last resort, catastrophic failure Background work task runner. To be called in application Loop() periodically. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc_8h_acb88c5c49e58e7d23fdcdee3cdf7368f}{ltem\+\_\+notify\+Assert}} (uint16\+\_\+t fault\+Code) \+\_\+\+\_\+attribute\+\_\+\+\_\+((noreturn))
\item 
void \mbox{\hyperlink{ltemc_8h_a15f0a3db0746ff6fb0563774141aec0b}{ltem\+\_\+set\+Yield\+Cb}} (\mbox{\hyperlink{lq_platform-timing_8h_a1066ad01c72dad80aaa76602d3cdce94}{platform\+\_\+yield\+C\+B\+\_\+func\+\_\+t}} yield\+Cb\+\_\+func)
\begin{DoxyCompactList}\small\item\em Registers the address (void$\ast$) of your application yield callback handler. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc_8h_a38b219b10645a48d462e8cb69e0f576a}\label{ltemc_8h_a38b219b10645a48d462e8cb69e0f576a}} 
\index{ltemc.h@{ltemc.h}!ltem\_chkHwReady@{ltem\_chkHwReady}}
\index{ltem\_chkHwReady@{ltem\_chkHwReady}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_chkHwReady()}{ltem\_chkHwReady()}}
{\footnotesize\ttfamily bool ltem\+\_\+chk\+Hw\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Check the B\+Gx for hardware ready (status pin). 

\begin{DoxyReturn}{Returns}
True is status H\+I\+GH, hardware ready. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc_8h_a906672420bc5750a95a4ffd6857dd30f}\label{ltemc_8h_a906672420bc5750a95a4ffd6857dd30f}} 
\index{ltemc.h@{ltemc.h}!ltem\_create@{ltem\_create}}
\index{ltem\_create@{ltem\_create}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_create()}{ltem\_create()}}
{\footnotesize\ttfamily void ltem\+\_\+create (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{lq_platform-gpio_8h_a179aa93a99cd81e3a0f037bd9f07d70e}{ltem\+Pin\+Config\+\_\+t}}}]{ltem\+\_\+config,  }\item[{app\+Notify\+Func\+\_\+t}]{app\+Notify\+CB }\end{DoxyParamCaption})}



Initialize the L\+T\+Em1 modem. 


\begin{DoxyParams}{Parameters}
{\em ltem\+\_\+config} & \mbox{[}in\mbox{]} -\/ The L\+TE modem gpio pin configuration. \\
\hline
{\em app\+Notify\+CB} & \mbox{[}in\mbox{]} -\/ If supplied (not N\+U\+LL), this function will be invoked for significant L\+T\+Em1 events. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8h_adc4fe577a31799623ad85245e64dfea5}\label{ltemc_8h_adc4fe577a31799623ad85245e64dfea5}} 
\index{ltemc.h@{ltemc.h}!ltem\_destroy@{ltem\_destroy}}
\index{ltem\_destroy@{ltem\_destroy}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_destroy()}{ltem\_destroy()}}
{\footnotesize\ttfamily void ltem\+\_\+destroy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Uninitialize the L\+TE modem. 

\mbox{\Hypertarget{ltemc_8h_a5b79bd67186c40d469be1bcc5dcd412b}\label{ltemc_8h_a5b79bd67186c40d469be1bcc5dcd412b}} 
\index{ltemc.h@{ltemc.h}!ltem\_doWork@{ltem\_doWork}}
\index{ltem\_doWork@{ltem\_doWork}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_doWork()}{ltem\_doWork()}}
{\footnotesize\ttfamily void ltem\+\_\+do\+Work (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Background work task runner. To be called in application Loop() periodically. 

\mbox{\Hypertarget{ltemc_8h_aa92d5ab484a2fdaff02c5601b12eb9e2}\label{ltemc_8h_aa92d5ab484a2fdaff02c5601b12eb9e2}} 
\index{ltemc.h@{ltemc.h}!ltem\_getReadyState@{ltem\_getReadyState}}
\index{ltem\_getReadyState@{ltem\_getReadyState}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_getReadyState()}{ltem\_getReadyState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-quectel-bg_8h_a3b346c5dfd0f8d950e7bc92c1b22b844}{qbg\+Ready\+State\+\_\+t}} ltem\+\_\+get\+Ready\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. 

\mbox{\Hypertarget{ltemc_8h_a80df97bbc632eda7178e56368c3d0a1e}\label{ltemc_8h_a80df97bbc632eda7178e56368c3d0a1e}} 
\index{ltemc.h@{ltemc.h}!ltem\_notifyApp@{ltem\_notifyApp}}
\index{ltem\_notifyApp@{ltem\_notifyApp}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_notifyApp()}{ltem\_notifyApp()}}
{\footnotesize\ttfamily void ltem\+\_\+notify\+App (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{notify\+Type,  }\item[{const char $\ast$}]{notify\+Msg }\end{DoxyParamCaption})}



Function of last resort, catastrophic failure Background work task runner. To be called in application Loop() periodically. 


\begin{DoxyParams}{Parameters}
{\em notify\+Type} & \mbox{[}in\mbox{]} -\/ Enum of broad notification categories. \\
\hline
{\em notify\+Msg} & \mbox{[}in\mbox{]} -\/ Message from origination about the issue being reported. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8h_acb88c5c49e58e7d23fdcdee3cdf7368f}\label{ltemc_8h_acb88c5c49e58e7d23fdcdee3cdf7368f}} 
\index{ltemc.h@{ltemc.h}!ltem\_notifyAssert@{ltem\_notifyAssert}}
\index{ltem\_notifyAssert@{ltem\_notifyAssert}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_notifyAssert()}{ltem\_notifyAssert()}}
{\footnotesize\ttfamily void ltem\+\_\+notify\+Assert (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{fault\+Code }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ltemc_8h_a0238192a8a5f8f8fde7e934c0aa01ab3}\label{ltemc_8h_a0238192a8a5f8f8fde7e934c0aa01ab3}} 
\index{ltemc.h@{ltemc.h}!ltem\_reset@{ltem\_reset}}
\index{ltem\_reset@{ltem\_reset}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_reset()}{ltem\_reset()}}
{\footnotesize\ttfamily void ltem\+\_\+reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Performs a HW reset of L\+T\+Em1 and optionally executes start sequence. 

\mbox{\Hypertarget{ltemc_8h_a15f0a3db0746ff6fb0563774141aec0b}\label{ltemc_8h_a15f0a3db0746ff6fb0563774141aec0b}} 
\index{ltemc.h@{ltemc.h}!ltem\_setYieldCb@{ltem\_setYieldCb}}
\index{ltem\_setYieldCb@{ltem\_setYieldCb}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_setYieldCb()}{ltem\_setYieldCb()}}
{\footnotesize\ttfamily void ltem\+\_\+set\+Yield\+Cb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{lq_platform-timing_8h_a1066ad01c72dad80aaa76602d3cdce94}{platform\+\_\+yield\+C\+B\+\_\+func\+\_\+t}}}]{yield\+Cb\+\_\+func }\end{DoxyParamCaption})}



Registers the address (void$\ast$) of your application yield callback handler. 


\begin{DoxyParams}{Parameters}
{\em yield\+Cb\+\_\+func} & \mbox{[}in\mbox{]} Callback function in application code to be invoked when L\+T\+EmC is in await section. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8h_aca549beee5abfb00b29c677d37e6d777}\label{ltemc_8h_aca549beee5abfb00b29c677d37e6d777}} 
\index{ltemc.h@{ltemc.h}!ltem\_start@{ltem\_start}}
\index{ltem\_start@{ltem\_start}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_start()}{ltem\_start()}}
{\footnotesize\ttfamily void ltem\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Power on and start the modem (perform component init). 


\begin{DoxyParams}{Parameters}
{\em protocol\+Bit\+Map} & \mbox{[}in\mbox{]} -\/ Binary-\/\+OR\textquotesingle{}d list of expected protocol services to validate inclusion and start. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc_8h_a5fde19665106d68b37d5d3161a9f3560}\label{ltemc_8h_a5fde19665106d68b37d5d3161a9f3560}} 
\index{ltemc.h@{ltemc.h}!ltem\_stop@{ltem\_stop}}
\index{ltem\_stop@{ltem\_stop}!ltemc.h@{ltemc.h}}
\doxysubsubsection{\texorpdfstring{ltem\_stop()}{ltem\_stop()}}
{\footnotesize\ttfamily void ltem\+\_\+stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Powers off the modem without destroying memory objects. Modem device will require \mbox{\hyperlink{ltemc_8c_aca549beee5abfb00b29c677d37e6d777}{ltem\+\_\+start()}} to reinit HW. 

