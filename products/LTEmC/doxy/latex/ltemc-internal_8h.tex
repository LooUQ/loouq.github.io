\hypertarget{ltemc-internal_8h}{}\doxysection{C\+:/\+Users/\+Greg\+Terrell/\+Documents/\+Code\+Dev/\+Arduino/libraries/\+Loo\+UQ-\/\+LTEm\+C/src/ltemc-\/internal.h File Reference}
\label{ltemc-internal_8h}\index{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/internal.h@{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/internal.h}}


LTEmC INTERNAL type/enum/struct definitions.  


{\ttfamily \#include \char`\"{}ltemc.\+h\char`\"{}}\newline
{\ttfamily \#include $<$lq-\/str.\+h$>$}\newline
{\ttfamily \#include $<$lq-\/c\+Buffer.\+h$>$}\newline
{\ttfamily \#include \char`\"{}ltemc-\/types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/quectel-\/bg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/nxp-\/sc16is.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ltemc-\/iop.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structltem_metrics__tag}{ltem\+Metrics\+\_\+tag}}
\begin{DoxyCompactList}\small\item\em most LTEmC modules use Loo\+UQ string functions \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structltem_device__tag}{ltem\+Device\+\_\+tag}}
\begin{DoxyCompactList}\small\item\em Struct representing the LTEmC model. The struct behind the g\+\_\+ltem1 global variable with all driver controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-internal_8h_a2a117d494cfcf9759244220b4c46a8e9}\label{ltemc-internal_8h_a2a117d494cfcf9759244220b4c46a8e9}} 
\#define {\bfseries PRODUCT}~\char`\"{}LM\char`\"{}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-internal_8h_a858784a46dc380d785e931de19bb0e42}\label{ltemc-internal_8h_a858784a46dc380d785e931de19bb0e42}} 
typedef struct \mbox{\hyperlink{structltem_metrics__tag}{ltem\+Metrics\+\_\+tag}} {\bfseries ltem\+Metrics\+\_\+t}
\begin{DoxyCompactList}\small\item\em most LTEmC modules use Loo\+UQ string functions \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-internal_8h_ad56d41d2e0b224e7d776de2dc81ee939}\label{ltemc-internal_8h_ad56d41d2e0b224e7d776de2dc81ee939}} 
typedef enum \mbox{\hyperlink{ltemc-internal_8h_a102f20947356e7cfc1575e3dec82d888}{recv\+Event\+\_\+tag}} {\bfseries recv\+Event\+\_\+t}
\begin{DoxyCompactList}\small\item\em enum describing the last receive event serviced by the ISR \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structltem_device__tag}{ltem\+Device\+\_\+tag}} \mbox{\hyperlink{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Struct representing the LTEmC model. The struct behind the g\+\_\+ltem1 global variable with all driver controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-internal_8h_a102f20947356e7cfc1575e3dec82d888}\label{ltemc-internal_8h_a102f20947356e7cfc1575e3dec82d888}} 
enum \mbox{\hyperlink{ltemc-internal_8h_a102f20947356e7cfc1575e3dec82d888}{recv\+Event\+\_\+tag}} \{ {\bfseries recv\+Event\+\_\+none} = 0
, {\bfseries recv\+Event\+\_\+data}
, {\bfseries recv\+Event\+\_\+timeout}
 \}
\begin{DoxyCompactList}\small\item\em enum describing the last receive event serviced by the ISR \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-internal_8h_a6c467232deb0591f402f1b9221d547e2}\label{ltemc-internal_8h_a6c467232deb0591f402f1b9221d547e2}} 
void {\bfseries LTEM\+\_\+init\+Io} ()
\item 
\mbox{\Hypertarget{ltemc-internal_8h_a5ddd998cbb2b545227b40ddb93e47596}\label{ltemc-internal_8h_a5ddd998cbb2b545227b40ddb93e47596}} 
void {\bfseries LTEM\+\_\+register\+Do\+Worker} (do\+Work\+\_\+func $\ast$do\+Worker)
\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-internal_8h_ac5cd84c5342fb9cd5ebc175a09cb3229}{ATCMD\+\_\+read\+Result}} ()
\begin{DoxyCompactList}\small\item\em Checks recv buffer for command response and sets atcmd structure data with result. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-internal_8h_a8b66aa6a6e85581b0abebbb139a8f546}{ATCMD\+\_\+ok\+Response\+Parser}} ()
\begin{DoxyCompactList}\small\item\em Default AT command result parser. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc-internal_8h_ab020892ddf7994b54b41d61ff876d551}{ATCMD\+\_\+await\+Lock}} (uint16\+\_\+t timeout\+MS)
\begin{DoxyCompactList}\small\item\em Awaits exclusive access to QBG module command interface. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc-internal_8h_a47d13fcac52d7cd9fabef7ce99de6705}{ATCMD\+\_\+is\+Lock\+Active}} ()
\begin{DoxyCompactList}\small\item\em Returns the current at\+Cmd lock state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-internal_8h_a948a107cb71e1b1df505be4d2a7bbbdd}{ATCMD\+\_\+ready\+Prompt\+Parser}} (const char $\ast$rdy\+Prompt)
\begin{DoxyCompactList}\small\item\em Base parser looking for a simple prompt string. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-internal_8h_a6276c3a16859ccf82f39f00c42fd3b3b}{ATCMD\+\_\+tx\+Data\+Prompt\+Parser}} ()
\begin{DoxyCompactList}\small\item\em Parser looking for BGx transmit data prompt \char`\"{}$>$ \char`\"{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-internal_8h_a83358a615495d2c3a1f2901756869200}{ATCMD\+\_\+connect\+Prompt\+Parser}} ()
\begin{DoxyCompactList}\small\item\em Parser looking for BGx CONNECT data prompt. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-internal_8h_a6638afce89c033ad0af3d0a66ca7e4a6}\label{ltemc-internal_8h_a6638afce89c033ad0af3d0a66ca7e4a6}} 
void {\bfseries NTWK\+\_\+init\+Rat\+Options} ()
\begin{DoxyCompactList}\small\item\em Initialize BGx Radio Access Technology (RAT) options. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-internal_8h_af319aa9cb0ba6997fa543f4350a46e9c}\label{ltemc-internal_8h_af319aa9cb0ba6997fa543f4350a46e9c}} 
void {\bfseries NTWK\+\_\+apply\+Defaul\+Network} ()
\begin{DoxyCompactList}\small\item\em Apply the default PDP context config to BGx. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{ltemc-internal_8h_aa520cbfde107f228ddd40be60d2b6905}\label{ltemc-internal_8h_aa520cbfde107f228ddd40be60d2b6905}} 
\mbox{\hyperlink{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}} {\bfseries g\+\_\+lq\+LTEM}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
LTEmC INTERNAL type/enum/struct definitions. 

\DoxyHorRuler{0}


\begin{DoxyAuthor}{Author}
Greg Terrell, Loo\+UQ Incorporated
\end{DoxyAuthor}
{\bfseries{Loo\+UQ Incorporated}}~\newline
\href{mailto:answers@loouq.com}{\texttt{ answers@loouq.\+com}}~\newline
807 Airport Access Road, Suite 201, Traverse City, MI 49686 USA~\newline
~\newline
Copyright (c) 2020-\/2023 Loo\+UQ Incorporated.~\newline
This project is released under the GPL-\/3.\+0 License.

\begin{DoxyWarning}{Warning}
Updates should be only be done as directed by Loo\+UQ staff.
\end{DoxyWarning}
\DoxyHorRuler{0}
 \begin{DoxyVerb}This project is released under the GPL-3.0 License.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
\end{DoxyVerb}
 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}\label{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ltemDevice\_t@{ltemDevice\_t}}
\index{ltemDevice\_t@{ltemDevice\_t}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ltemDevice\_t}{ltemDevice\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structltem_device__tag}{ltem\+Device\+\_\+tag}} \mbox{\hyperlink{ltemc-internal_8h_a5f38bbe75173238b7cfd922a17c69b27}{ltem\+Device\+\_\+t}}}



Struct representing the LTEmC model. The struct behind the g\+\_\+ltem1 global variable with all driver controls. 

Most subsystems are linked to this struct with pointers to allow for better abstraction and optional subsystems 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc-internal_8h_ab020892ddf7994b54b41d61ff876d551}\label{ltemc-internal_8h_ab020892ddf7994b54b41d61ff876d551}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_awaitLock@{ATCMD\_awaitLock}}
\index{ATCMD\_awaitLock@{ATCMD\_awaitLock}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_awaitLock()}{ATCMD\_awaitLock()}}
{\footnotesize\ttfamily bool ATCMD\+\_\+await\+Lock (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{timeout\+MS }\end{DoxyParamCaption})}



Awaits exclusive access to QBG module command interface. 


\begin{DoxyParams}{Parameters}
{\em timeout\+MS} & \mbox{[}in\mbox{]} -\/ Number of milliseconds to wait for a lock. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if lock aquired prior to the timeout period. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-internal_8h_a83358a615495d2c3a1f2901756869200}\label{ltemc-internal_8h_a83358a615495d2c3a1f2901756869200}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_connectPromptParser@{ATCMD\_connectPromptParser}}
\index{ATCMD\_connectPromptParser@{ATCMD\_connectPromptParser}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_connectPromptParser()}{ATCMD\_connectPromptParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} ATCMD\+\_\+connect\+Prompt\+Parser (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Parser looking for BGx CONNECT data prompt. 

Parser looking for BGx CONNECT data prompt.


\begin{DoxyParams}{Parameters}
{\em response} & \mbox{[}in\mbox{]} Character data recv\textquotesingle{}d from BGx to parse for task complete \\
\hline
{\em endptr} & \mbox{[}out\mbox{]} Char pointer to the char following parsed text\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HTTP style result code, 0 = not complete 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-internal_8h_a47d13fcac52d7cd9fabef7ce99de6705}\label{ltemc-internal_8h_a47d13fcac52d7cd9fabef7ce99de6705}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_isLockActive@{ATCMD\_isLockActive}}
\index{ATCMD\_isLockActive@{ATCMD\_isLockActive}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_isLockActive()}{ATCMD\_isLockActive()}}
{\footnotesize\ttfamily bool ATCMD\+\_\+is\+Lock\+Active (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the current at\+Cmd lock state. 

\begin{DoxyReturn}{Returns}
True if atcmd lock is active (command underway) 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-internal_8h_a8b66aa6a6e85581b0abebbb139a8f546}\label{ltemc-internal_8h_a8b66aa6a6e85581b0abebbb139a8f546}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_okResponseParser@{ATCMD\_okResponseParser}}
\index{ATCMD\_okResponseParser@{ATCMD\_okResponseParser}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_okResponseParser()}{ATCMD\_okResponseParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} ATCMD\+\_\+ok\+Response\+Parser (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Default AT command result parser. 

Default AT command result parser. \mbox{\Hypertarget{ltemc-internal_8h_ac5cd84c5342fb9cd5ebc175a09cb3229}\label{ltemc-internal_8h_ac5cd84c5342fb9cd5ebc175a09cb3229}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_readResult@{ATCMD\_readResult}}
\index{ATCMD\_readResult@{ATCMD\_readResult}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_readResult()}{ATCMD\_readResult()}}
{\footnotesize\ttfamily result\+Code\+\_\+t ATCMD\+\_\+read\+Result (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks recv buffer for command response and sets atcmd structure data with result. 

Checks recv buffer for command response and sets atcmd structure data with result. \mbox{\Hypertarget{ltemc-internal_8h_a948a107cb71e1b1df505be4d2a7bbbdd}\label{ltemc-internal_8h_a948a107cb71e1b1df505be4d2a7bbbdd}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_readyPromptParser@{ATCMD\_readyPromptParser}}
\index{ATCMD\_readyPromptParser@{ATCMD\_readyPromptParser}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_readyPromptParser()}{ATCMD\_readyPromptParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} ATCMD\+\_\+ready\+Prompt\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{rdy\+Prompt }\end{DoxyParamCaption})}



Base parser looking for a simple prompt string. 

Base parser looking for a simple prompt string.


\begin{DoxyParams}{Parameters}
{\em response} & \mbox{[}in\mbox{]} The character string received from BGx (so far, may not be complete). \\
\hline
{\em rdy\+Prompt} & \mbox{[}in\mbox{]} Prompt text to check for. \\
\hline
{\em endptr} & \mbox{[}out\mbox{]} Pointer to the char after match.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Result code enum value (http status code) 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-internal_8h_a6276c3a16859ccf82f39f00c42fd3b3b}\label{ltemc-internal_8h_a6276c3a16859ccf82f39f00c42fd3b3b}} 
\index{ltemc-\/internal.h@{ltemc-\/internal.h}!ATCMD\_txDataPromptParser@{ATCMD\_txDataPromptParser}}
\index{ATCMD\_txDataPromptParser@{ATCMD\_txDataPromptParser}!ltemc-\/internal.h@{ltemc-\/internal.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_txDataPromptParser()}{ATCMD\_txDataPromptParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} ATCMD\+\_\+tx\+Data\+Prompt\+Parser (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Parser looking for BGx transmit data prompt \char`\"{}$>$ \char`\"{}. 

Parser looking for BGx transmit data prompt \char`\"{}$>$ \char`\"{}.


\begin{DoxyParams}{Parameters}
{\em response} & \mbox{[}in\mbox{]} Character data recv\textquotesingle{}d from BGx to parse for task complete \\
\hline
{\em endptr} & \mbox{[}out\mbox{]} Char pointer to the char following parsed text\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HTTP style result code, 0 = not complete 
\end{DoxyReturn}
