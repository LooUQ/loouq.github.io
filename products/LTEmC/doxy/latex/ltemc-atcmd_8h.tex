\hypertarget{ltemc-atcmd_8h}{}\doxysection{C\+:/\+Users/\+Greg\+Terrell/\+Documents/\+Code\+Dev/\+Arduino/libraries/\+Loo\+UQ-\/\+LTEm\+C/src/ltemc-\/atcmd.h File Reference}
\label{ltemc-atcmd_8h}\index{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/atcmd.h@{C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-\/LTEmC/src/ltemc-\/atcmd.h}}
{\ttfamily \#include \char`\"{}ltemc-\/types.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ltemc-atcmd_8h_a6564b7b17223a1e581beef02914406dc}{atcmd\+\_\+reset}} (bool release\+Lock)
\begin{DoxyCompactList}\small\item\em Resets at\+Cmd struct and optionally releases lock, a BGx AT command structure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-atcmd_8h_a84f840a308983f46590c9df6d1860c33}{atcmd\+\_\+restore\+Option\+Defaults}} ()
\begin{DoxyCompactList}\small\item\em Reset AT command options to defaults. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-atcmd_8h_a12f91584f62bec59a930301de9d7956f}{atcmd\+\_\+set\+Data\+Handler}} (stream\+Data\+Rcvr\+\_\+func data\+Receiver)
\begin{DoxyCompactList}\small\item\em Set/clear stream data receiver function. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc-atcmd_8h_a1f90e8d6a28fc9f55520566a869d062a}{atcmd\+\_\+try\+Invoke}} (const char $\ast$cmd\+Template,...)
\begin{DoxyCompactList}\small\item\em Invokes a BGx AT command using default option values (automatic locking). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-atcmd_8h_a2c759a85f8659aa37ab78784ebd691e6}{atcmd\+\_\+invoke\+Reuse\+Lock}} (const char $\ast$cmd\+Template,...)
\begin{DoxyCompactList}\small\item\em Invokes a BGx AT command without acquiring a lock, using previously set set\+Options() values. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-atcmd_8h_a74edf80fef3ee4cfaebbb9607ca58a78}\label{ltemc-atcmd_8h_a74edf80fef3ee4cfaebbb9607ca58a78}} 
void {\bfseries atcmd\+\_\+close} ()
\begin{DoxyCompactList}\small\item\em Closes (completes) a BGx AT command structure and frees action resource (release action lock). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ltemc-atcmd_8h_ad19d2388cd6d4423be873314968de031}{atcmd\+\_\+send\+Cmd\+Data}} (const char $\ast$data, uint16\+\_\+t data\+Sz)
\begin{DoxyCompactList}\small\item\em Performs blind send data transfer to device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-atcmd_8h_a128cc1893fd2d595f69804a084aeef5d}\label{ltemc-atcmd_8h_a128cc1893fd2d595f69804a084aeef5d}} 
result\+Code\+\_\+t {\bfseries atcmd\+\_\+await\+Result} ()
\begin{DoxyCompactList}\small\item\em Waits for atcmd result, periodically checking recv buffer for valid response until timeout. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-atcmd_8h_a0e8497b08c7790ecfffee126b043b532}{atcmd\+\_\+await\+Result\+With\+Options}} (uint32\+\_\+t timeout\+MS, cmd\+Response\+Parser\+\_\+func cmd\+Response\+Parser)
\begin{DoxyCompactList}\small\item\em Waits for atcmd result, periodically checking recv buffer for valid response until timeout. \end{DoxyCompactList}\item 
result\+Code\+\_\+t \mbox{\hyperlink{ltemc-atcmd_8h_aa91cf2cfd830b79a225d5c62a0da9ef5}{atcmd\+\_\+get\+Result}} ()
\begin{DoxyCompactList}\small\item\em Returns the at\+Cmd result code or 0 if command is pending completion. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{ltemc-atcmd_8h_a7ae1624ecec233ebff89cf715520852d}{atcmd\+\_\+get\+Raw\+Response}} ()
\begin{DoxyCompactList}\small\item\em Returns the at\+Cmd parsed response (preamble to finale) if completed. An empty C-\/string will return prior to completion. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{ltemc-atcmd_8h_a29da0e81404893c31c9d4e4e3a5d6067}{atcmd\+\_\+get\+Response}} ()
\begin{DoxyCompactList}\small\item\em Returns the string captured from the last command response with prefixing white-\/space and any preamble removed. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{ltemc-atcmd_8h_a27940a322eb2239f54ca8c81c4c89af0}{atcmd\+\_\+get\+Preamble\+Found}} ()
\begin{DoxyCompactList}\small\item\em Returns true if the last at\+Cmd response contained a requested preamble. If no preamble specified will return false. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{ltemc-atcmd_8h_acbf444358890a89e1bcb0bc19dba1255}{atcmd\+\_\+get\+Value}} ()
\begin{DoxyCompactList}\small\item\em Returns the at\+Cmd result value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-atcmd_8h_a260b6b6d2ec220aec1cd774dcc482c18}{atcmd\+\_\+get\+Parser\+Result}} ()
\begin{DoxyCompactList}\small\item\em Returns the at\+Cmd parser result code, 0x\+FFFF or cmd\+Parse\+Rslt\+\_\+pending if command is pending completion. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{ltemc-atcmd_8h_a8b7750eee81229577ba60a018e419e7e}{atcmd\+\_\+get\+Error\+Detail}} ()
\begin{DoxyCompactList}\small\item\em Returns the BGx reported CME/\+CMS error code. Use this function to get details on a result\+Code\+\_\+t = 500. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{ltemc-atcmd_8h_a5f23ddaa6c3600110a8dbe38c107102a}{atcmd\+\_\+get\+Error\+Detail\+Code}} ()
\begin{DoxyCompactList}\small\item\em Returns the BGx reported CME/\+CMS error code as a numeric value. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{ltemc-atcmd_8h_a755fe5f62da184a14a80971e1c8e90a0}{atcmd\+\_\+get\+Duration}} ()
\begin{DoxyCompactList}\small\item\em Returns the at\+Cmd last execution duration in milliseconds. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-atcmd_8h_ac9151ae79098ea2379de42f180114825}\label{ltemc-atcmd_8h_ac9151ae79098ea2379de42f180114825}} 
void {\bfseries atcmd\+\_\+exit\+Data\+Mode} ()
\begin{DoxyCompactList}\small\item\em Sends +++ sequence to transition BGx out of data mode to command mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{ltemc-atcmd_8h_a3742317e3225c92af7b6487aee1c3f38}\label{ltemc-atcmd_8h_a3742317e3225c92af7b6487aee1c3f38}} 
void {\bfseries atcmd\+\_\+exit\+Text\+Mode} ()
\begin{DoxyCompactList}\small\item\em Sends ESC character to ensure BGx is not in text mode (\char`\"{}$>$\char`\"{} prompt awaiting $^\wedge$\+Z/\+ESC, MQTT publish etc.). \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-atcmd_8h_a98a258e1580c6a67eac1cd090603c912}{atcmd\+\_\+std\+Response\+Parser}} (const char $\ast$preamble, bool preamble\+Reqd, const char $\ast$delimiters, uint8\+\_\+t tokens\+Reqd, uint8\+\_\+t value\+Indx, const char $\ast$finale, uint16\+\_\+t length\+Reqd)
\begin{DoxyCompactList}\small\item\em Resets at\+Cmd struct and optionally releases lock, a BGx AT command structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} \mbox{\hyperlink{ltemc-atcmd_8h_aabe561361875acf197304759838af23a}{ATCMD\+\_\+test\+Response\+Trace}} ()
\begin{DoxyCompactList}\small\item\em LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-\/user applications. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\DoxyHorRuler{0}


\begin{DoxyAuthor}{Author}
Greg Terrell, Loo\+UQ Incorporated
\end{DoxyAuthor}
{\bfseries{Loo\+UQ Incorporated}}~\newline
\href{mailto:answers@loouq.com}{\texttt{ answers@loouq.\+com}}~\newline
807 Airport Access Road, Suite 201, Traverse City, MI 49686 USA~\newline
~\newline
Copyright (c) 2020-\/2023 Loo\+UQ Incorporated.~\newline
This project is released under the GPL-\/3.\+0 License.

\DoxyHorRuler{0}
 \begin{DoxyVerb}This project is released under the GPL-3.0 License.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ltemc-atcmd_8h_a0e8497b08c7790ecfffee126b043b532}\label{ltemc-atcmd_8h_a0e8497b08c7790ecfffee126b043b532}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_awaitResultWithOptions@{atcmd\_awaitResultWithOptions}}
\index{atcmd\_awaitResultWithOptions@{atcmd\_awaitResultWithOptions}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_awaitResultWithOptions()}{atcmd\_awaitResultWithOptions()}}
{\footnotesize\ttfamily result\+Code\+\_\+t atcmd\+\_\+await\+Result\+With\+Options (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{timeout\+MS,  }\item[{cmd\+Response\+Parser\+\_\+func}]{cmd\+Response\+Parser }\end{DoxyParamCaption})}



Waits for atcmd result, periodically checking recv buffer for valid response until timeout. 


\begin{DoxyParams}{Parameters}
{\em timeout\+MS} & Time to wait for command response (0==no change). \\
\hline
{\em cmd\+Response\+Parser} & If provided sets parser as the response parser (NULL==no change). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-atcmd_8h_a755fe5f62da184a14a80971e1c8e90a0}\label{ltemc-atcmd_8h_a755fe5f62da184a14a80971e1c8e90a0}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getDuration@{atcmd\_getDuration}}
\index{atcmd\_getDuration@{atcmd\_getDuration}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getDuration()}{atcmd\_getDuration()}}
{\footnotesize\ttfamily uint32\+\_\+t atcmd\+\_\+get\+Duration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the at\+Cmd last execution duration in milliseconds. 

\begin{DoxyReturn}{Returns}
The number of milliseconds. If the command timed out this will be approximately timeout value. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-atcmd_8h_a8b7750eee81229577ba60a018e419e7e}\label{ltemc-atcmd_8h_a8b7750eee81229577ba60a018e419e7e}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getErrorDetail@{atcmd\_getErrorDetail}}
\index{atcmd\_getErrorDetail@{atcmd\_getErrorDetail}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getErrorDetail()}{atcmd\_getErrorDetail()}}
{\footnotesize\ttfamily char $\ast$ atcmd\+\_\+get\+Error\+Detail (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the BGx reported CME/\+CMS error code. Use this function to get details on a result\+Code\+\_\+t = 500. 

\begin{DoxyReturn}{Returns}
Pointer to a error value reported by the BGx module. Note that not all BGx errors have a detailed descriptor.
\end{DoxyReturn}
Returns the BGx reported CME/\+CMS error code. Use this function to get details on a result\+Code\+\_\+t = 500. \mbox{\Hypertarget{ltemc-atcmd_8h_a5f23ddaa6c3600110a8dbe38c107102a}\label{ltemc-atcmd_8h_a5f23ddaa6c3600110a8dbe38c107102a}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getErrorDetailCode@{atcmd\_getErrorDetailCode}}
\index{atcmd\_getErrorDetailCode@{atcmd\_getErrorDetailCode}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getErrorDetailCode()}{atcmd\_getErrorDetailCode()}}
{\footnotesize\ttfamily uint16\+\_\+t atcmd\+\_\+get\+Error\+Detail\+Code (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the BGx reported CME/\+CMS error code as a numeric value. 

\begin{DoxyReturn}{Returns}
Numeric CM$\ast$ error code, 999 otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-atcmd_8h_a260b6b6d2ec220aec1cd774dcc482c18}\label{ltemc-atcmd_8h_a260b6b6d2ec220aec1cd774dcc482c18}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getParserResult@{atcmd\_getParserResult}}
\index{atcmd\_getParserResult@{atcmd\_getParserResult}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getParserResult()}{atcmd\_getParserResult()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} atcmd\+\_\+get\+Parser\+Result (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the at\+Cmd parser result code, 0x\+FFFF or cmd\+Parse\+Rslt\+\_\+pending if command is pending completion. 

\begin{DoxyReturn}{Returns}
The PARSER result from the last interation of the parser execution. This is generally not applicable to end-\/user applications. 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-atcmd_8h_a27940a322eb2239f54ca8c81c4c89af0}\label{ltemc-atcmd_8h_a27940a322eb2239f54ca8c81c4c89af0}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getPreambleFound@{atcmd\_getPreambleFound}}
\index{atcmd\_getPreambleFound@{atcmd\_getPreambleFound}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getPreambleFound()}{atcmd\_getPreambleFound()}}
{\footnotesize\ttfamily bool atcmd\+\_\+get\+Preamble\+Found (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns true if the last at\+Cmd response contained a requested preamble. If no preamble specified will return false. 

\begin{DoxyReturn}{Returns}
True if preamble string was detected in the AT command response
\end{DoxyReturn}
Returns true if the last at\+Cmd response contained a requested preamble. If no preamble specified will return false. \mbox{\Hypertarget{ltemc-atcmd_8h_a7ae1624ecec233ebff89cf715520852d}\label{ltemc-atcmd_8h_a7ae1624ecec233ebff89cf715520852d}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getRawResponse@{atcmd\_getRawResponse}}
\index{atcmd\_getRawResponse@{atcmd\_getRawResponse}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getRawResponse()}{atcmd\_getRawResponse()}}
{\footnotesize\ttfamily char $\ast$ atcmd\+\_\+get\+Raw\+Response (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the at\+Cmd parsed response (preamble to finale) if completed. An empty C-\/string will return prior to completion. 

\begin{DoxyReturn}{Returns}
Char pointer to the command response (note\+: this is stripped of preamble and finale strings)
\end{DoxyReturn}
Returns the at\+Cmd parsed response (preamble to finale) if completed. An empty C-\/string will return prior to completion. \mbox{\Hypertarget{ltemc-atcmd_8h_a29da0e81404893c31c9d4e4e3a5d6067}\label{ltemc-atcmd_8h_a29da0e81404893c31c9d4e4e3a5d6067}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getResponse@{atcmd\_getResponse}}
\index{atcmd\_getResponse@{atcmd\_getResponse}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getResponse()}{atcmd\_getResponse()}}
{\footnotesize\ttfamily char $\ast$ atcmd\+\_\+get\+Response (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the string captured from the last command response with prefixing white-\/space and any preamble removed. 

\begin{DoxyReturn}{Returns}
Char pointer to the command response (note\+: this is stripped of preamble and finale strings) 
\end{DoxyReturn}
\mbox{\Hypertarget{ltemc-atcmd_8h_aa91cf2cfd830b79a225d5c62a0da9ef5}\label{ltemc-atcmd_8h_aa91cf2cfd830b79a225d5c62a0da9ef5}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getResult@{atcmd\_getResult}}
\index{atcmd\_getResult@{atcmd\_getResult}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getResult()}{atcmd\_getResult()}}
{\footnotesize\ttfamily result\+Code\+\_\+t atcmd\+\_\+get\+Result (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the at\+Cmd result code or 0 if command is pending completion. 

\begin{DoxyReturn}{Returns}
HTTP style result code.
\end{DoxyReturn}
Returns the at\+Cmd result code or 0 if command is pending completion. \mbox{\Hypertarget{ltemc-atcmd_8h_acbf444358890a89e1bcb0bc19dba1255}\label{ltemc-atcmd_8h_acbf444358890a89e1bcb0bc19dba1255}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_getValue@{atcmd\_getValue}}
\index{atcmd\_getValue@{atcmd\_getValue}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_getValue()}{atcmd\_getValue()}}
{\footnotesize\ttfamily int32\+\_\+t atcmd\+\_\+get\+Value (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the at\+Cmd result value. 

\begin{DoxyReturn}{Returns}
If the parser was instructed to capture a value (see \mbox{\hyperlink{ltemc-atcmd_8h_a98a258e1580c6a67eac1cd090603c912}{atcmd\+\_\+std\+Response\+Parser()}}) the signed integer value found
\end{DoxyReturn}
Returns the at\+Cmd result value. \mbox{\Hypertarget{ltemc-atcmd_8h_a2c759a85f8659aa37ab78784ebd691e6}\label{ltemc-atcmd_8h_a2c759a85f8659aa37ab78784ebd691e6}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_invokeReuseLock@{atcmd\_invokeReuseLock}}
\index{atcmd\_invokeReuseLock@{atcmd\_invokeReuseLock}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_invokeReuseLock()}{atcmd\_invokeReuseLock()}}
{\footnotesize\ttfamily void atcmd\+\_\+invoke\+Reuse\+Lock (\begin{DoxyParamCaption}\item[{const char $\ast$}]{cmd\+Template,  }\item[{}]{... }\end{DoxyParamCaption})}



Invokes a BGx AT command without acquiring a lock, using previously set set\+Options() values. 


\begin{DoxyParams}{Parameters}
{\em cmd\+Str\+Template} & \mbox{[}in\mbox{]} The command string to send to the BG96 module. \\
\hline
{\em ...} & \mbox{[}in\mbox{]} Variadic parameter list to integrate into the cmd\+Str\+Template. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-atcmd_8h_a6564b7b17223a1e581beef02914406dc}\label{ltemc-atcmd_8h_a6564b7b17223a1e581beef02914406dc}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_reset@{atcmd\_reset}}
\index{atcmd\_reset@{atcmd\_reset}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_reset()}{atcmd\_reset()}}
{\footnotesize\ttfamily void atcmd\+\_\+reset (\begin{DoxyParamCaption}\item[{bool}]{release\+Lock }\end{DoxyParamCaption})}



Resets at\+Cmd struct and optionally releases lock, a BGx AT command structure. 


\begin{DoxyParams}{Parameters}
{\em release\+Lock} & \mbox{[}in\mbox{]} If false, clears ATCMD internal state, but leaves the command lock state unchanged \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-atcmd_8h_a84f840a308983f46590c9df6d1860c33}\label{ltemc-atcmd_8h_a84f840a308983f46590c9df6d1860c33}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_restoreOptionDefaults@{atcmd\_restoreOptionDefaults}}
\index{atcmd\_restoreOptionDefaults@{atcmd\_restoreOptionDefaults}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_restoreOptionDefaults()}{atcmd\_restoreOptionDefaults()}}
{\footnotesize\ttfamily void atcmd\+\_\+restore\+Option\+Defaults (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reset AT command options to defaults. 

Use after set\+Options() to reset AT-\/\+Cmd behaviors to default settings. \mbox{\Hypertarget{ltemc-atcmd_8h_ad19d2388cd6d4423be873314968de031}\label{ltemc-atcmd_8h_ad19d2388cd6d4423be873314968de031}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_sendCmdData@{atcmd\_sendCmdData}}
\index{atcmd\_sendCmdData@{atcmd\_sendCmdData}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_sendCmdData()}{atcmd\_sendCmdData()}}
{\footnotesize\ttfamily void atcmd\+\_\+send\+Cmd\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{uint16\+\_\+t}]{data\+Sz }\end{DoxyParamCaption})}



Performs blind send data transfer to device. 

ASSERTS atcmd lock; does not change lock state. This is a blocking function (no copy), returns when send count = 0. Intended to send blocks of text in middle of a command stream. 
\begin{DoxyParams}{Parameters}
{\em data} & \mbox{[}in\mbox{]} Pointer to the block of character data to send \\
\hline
{\em data\+Sz} & \mbox{[}in\mbox{]} The size of the data block \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ltemc-atcmd_8h_a12f91584f62bec59a930301de9d7956f}\label{ltemc-atcmd_8h_a12f91584f62bec59a930301de9d7956f}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_setDataHandler@{atcmd\_setDataHandler}}
\index{atcmd\_setDataHandler@{atcmd\_setDataHandler}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_setDataHandler()}{atcmd\_setDataHandler()}}
{\footnotesize\ttfamily void atcmd\+\_\+set\+Data\+Handler (\begin{DoxyParamCaption}\item[{stream\+Data\+Rcvr\+\_\+func}]{data\+Receiver }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Set/clear stream data receiver function. 

Individual commands (ex\+: \mbox{\hyperlink{ltemc-filesys_8c_aa0adfb24daccbfc7d50af35b77da32b5}{file\+\_\+read()}} could initiate a data stream, this function allows the command to register the required handler.

Set/clear stream data receiver function. \mbox{\Hypertarget{ltemc-atcmd_8h_a98a258e1580c6a67eac1cd090603c912}\label{ltemc-atcmd_8h_a98a258e1580c6a67eac1cd090603c912}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_stdResponseParser@{atcmd\_stdResponseParser}}
\index{atcmd\_stdResponseParser@{atcmd\_stdResponseParser}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_stdResponseParser()}{atcmd\_stdResponseParser()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} atcmd\+\_\+std\+Response\+Parser (\begin{DoxyParamCaption}\item[{const char $\ast$}]{p\+Preamble,  }\item[{bool}]{preamble\+Reqd,  }\item[{const char $\ast$}]{p\+Delimeters,  }\item[{uint8\+\_\+t}]{tokens\+Reqd,  }\item[{uint8\+\_\+t}]{value\+Indx,  }\item[{const char $\ast$}]{p\+Finale,  }\item[{uint16\+\_\+t}]{length\+Reqd }\end{DoxyParamCaption})}



Resets at\+Cmd struct and optionally releases lock, a BGx AT command structure. 

LTEmC internal function, not static as it is used by several LTEmC modules Some AT-\/cmds will omit preamble under certain conditions; usually indicating an empty response (AT+\+QIACT? == no PDP active). Note\+: If no stop condition is specified, finale, tokens\+Reqd, and length\+Reqd are all omitted, the parser will return with the first block of characters received. The \char`\"{}value\char`\"{} and \char`\"{}response\char`\"{} variables are cached internally to the at\+Cmd structure and can be retrieved with \mbox{\hyperlink{ltemc-atcmd_8h_acbf444358890a89e1bcb0bc19dba1255}{atcmd\+\_\+get\+Value()}} and \mbox{\hyperlink{ltemc-atcmd_8h_a29da0e81404893c31c9d4e4e3a5d6067}{atcmd\+\_\+get\+Response()}} functions respectively. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em preamble} & -\/ C-\/string containing the expected phrase that starts response. \\
\hline
\mbox{\texttt{ in}}  & {\em preamble\+Reqd} & -\/ True to require the presence of the preamble for a SUCCESS response \\
\hline
\mbox{\texttt{ in}}  & {\em delimiters} & -\/ (optional\+: \char`\"{}\char`\"{}=N/A) C-\/string containing the expected delimiter between response tokens. \\
\hline
\mbox{\texttt{ in}}  & {\em tokens\+Reqd} & -\/ (optional\+: 0=N/A, 1=first) The minimum count of tokens between preamble and finale for a SUCCESS response. \\
\hline
\mbox{\texttt{ in}}  & {\em value\+Indx} & -\/ (optional\+: 0=N/A, 1=first) Indicates the 1-\/n position (chars/tokens) of an integer value to grab from the response. \\
\hline
\mbox{\texttt{ in}}  & {\em finale} & -\/ (optional\+: \char`\"{}\char`\"{}=finale not required) C-\/string containing the expected phrase that concludes response. \\
\hline
\mbox{\texttt{ in}}  & {\em length\+Reqd} & -\/ (optional\+: 0=N/A) The minimum character count between preamble and finale for a SUCCESS response. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Parse status result
\end{DoxyReturn}
Resets at\+Cmd struct and optionally releases lock, a BGx AT command structure. \mbox{\Hypertarget{ltemc-atcmd_8h_aabe561361875acf197304759838af23a}\label{ltemc-atcmd_8h_aabe561361875acf197304759838af23a}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!ATCMD\_testResponseTrace@{ATCMD\_testResponseTrace}}
\index{ATCMD\_testResponseTrace@{ATCMD\_testResponseTrace}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{ATCMD\_testResponseTrace()}{ATCMD\_testResponseTrace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ltemc-types_8h_a66c4c183f8908a0fe0928ef236dbccce}{cmd\+Parse\+Rslt\+\_\+t}} ATCMD\+\_\+test\+Response\+Trace (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-\/user applications. 

\begin{DoxyReturn}{Returns}
Parse status result (always pending for this test parser)
\end{DoxyReturn}
LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-\/user applications. \mbox{\Hypertarget{ltemc-atcmd_8h_a1f90e8d6a28fc9f55520566a869d062a}\label{ltemc-atcmd_8h_a1f90e8d6a28fc9f55520566a869d062a}} 
\index{ltemc-\/atcmd.h@{ltemc-\/atcmd.h}!atcmd\_tryInvoke@{atcmd\_tryInvoke}}
\index{atcmd\_tryInvoke@{atcmd\_tryInvoke}!ltemc-\/atcmd.h@{ltemc-\/atcmd.h}}
\doxysubsubsection{\texorpdfstring{atcmd\_tryInvoke()}{atcmd\_tryInvoke()}}
{\footnotesize\ttfamily bool atcmd\+\_\+try\+Invoke (\begin{DoxyParamCaption}\item[{const char $\ast$}]{cmd\+Template,  }\item[{}]{... }\end{DoxyParamCaption})}



Invokes a BGx AT command using default option values (automatic locking). 


\begin{DoxyParams}{Parameters}
{\em cmd\+Str\+Template} & \mbox{[}in\mbox{]} The command string to send to the BG96 module. \\
\hline
{\em ...} & \mbox{[}in\mbox{]} Variadic parameter list to integrate into the cmd\+Str\+Template. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if action was invoked, false if not 
\end{DoxyReturn}
