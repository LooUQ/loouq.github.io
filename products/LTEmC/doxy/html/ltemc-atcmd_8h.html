<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LTEmC: C:/Users/GregTerrell/Documents/CodeDev/Arduino/libraries/LooUQ-LTEmC/src/ltemc-atcmd.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="LooUQ-Logo(240x100-t).png"/></td>
  <td id="projectalign">
   <div id="projectname">LTEmC<span id="projectnumber">&#160;v3.0.1</span>
   </div>
   <div id="projectbrief">C device driver for LooUQ LTEm cellular modems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ltemc-atcmd.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ltemc-types_8h_source.html">ltemc-types.h</a>&quot;</code><br />
</div>
<p><a href="ltemc-atcmd_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6564b7b17223a1e581beef02914406dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a6564b7b17223a1e581beef02914406dc">atcmd_reset</a> (bool releaseLock)</td></tr>
<tr class="memdesc:a6564b7b17223a1e581beef02914406dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets atCmd struct and optionally releases lock, a BGx AT command structure.  <br /></td></tr>
<tr class="separator:a6564b7b17223a1e581beef02914406dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f840a308983f46590c9df6d1860c33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a84f840a308983f46590c9df6d1860c33">atcmd_restoreOptionDefaults</a> ()</td></tr>
<tr class="memdesc:a84f840a308983f46590c9df6d1860c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset AT command options to defaults.  <br /></td></tr>
<tr class="separator:a84f840a308983f46590c9df6d1860c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f91584f62bec59a930301de9d7956f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a12f91584f62bec59a930301de9d7956f">atcmd_setDataHandler</a> (streamDataRcvr_func dataReceiver)</td></tr>
<tr class="memdesc:a12f91584f62bec59a930301de9d7956f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/clear stream data receiver function.  <br /></td></tr>
<tr class="separator:a12f91584f62bec59a930301de9d7956f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f90e8d6a28fc9f55520566a869d062a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a1f90e8d6a28fc9f55520566a869d062a">atcmd_tryInvoke</a> (const char *cmdTemplate,...)</td></tr>
<tr class="memdesc:a1f90e8d6a28fc9f55520566a869d062a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes a BGx AT command using default option values (automatic locking).  <br /></td></tr>
<tr class="separator:a1f90e8d6a28fc9f55520566a869d062a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c759a85f8659aa37ab78784ebd691e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a2c759a85f8659aa37ab78784ebd691e6">atcmd_invokeReuseLock</a> (const char *cmdTemplate,...)</td></tr>
<tr class="memdesc:a2c759a85f8659aa37ab78784ebd691e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes a BGx AT command without acquiring a lock, using previously set setOptions() values.  <br /></td></tr>
<tr class="separator:a2c759a85f8659aa37ab78784ebd691e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74edf80fef3ee4cfaebbb9607ca58a78"><td class="memItemLeft" align="right" valign="top"><a id="a74edf80fef3ee4cfaebbb9607ca58a78" name="a74edf80fef3ee4cfaebbb9607ca58a78"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>atcmd_close</b> ()</td></tr>
<tr class="memdesc:a74edf80fef3ee4cfaebbb9607ca58a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes (completes) a BGx AT command structure and frees action resource (release action lock). <br /></td></tr>
<tr class="separator:a74edf80fef3ee4cfaebbb9607ca58a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19d2388cd6d4423be873314968de031"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#ad19d2388cd6d4423be873314968de031">atcmd_sendCmdData</a> (const char *data, uint16_t dataSz)</td></tr>
<tr class="memdesc:ad19d2388cd6d4423be873314968de031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs blind send data transfer to device.  <br /></td></tr>
<tr class="separator:ad19d2388cd6d4423be873314968de031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128cc1893fd2d595f69804a084aeef5d"><td class="memItemLeft" align="right" valign="top"><a id="a128cc1893fd2d595f69804a084aeef5d" name="a128cc1893fd2d595f69804a084aeef5d"></a>
resultCode_t&#160;</td><td class="memItemRight" valign="bottom"><b>atcmd_awaitResult</b> ()</td></tr>
<tr class="memdesc:a128cc1893fd2d595f69804a084aeef5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for atcmd result, periodically checking recv buffer for valid response until timeout. <br /></td></tr>
<tr class="separator:a128cc1893fd2d595f69804a084aeef5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8497b08c7790ecfffee126b043b532"><td class="memItemLeft" align="right" valign="top">resultCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a0e8497b08c7790ecfffee126b043b532">atcmd_awaitResultWithOptions</a> (uint32_t timeoutMS, cmdResponseParser_func cmdResponseParser)</td></tr>
<tr class="memdesc:a0e8497b08c7790ecfffee126b043b532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for atcmd result, periodically checking recv buffer for valid response until timeout.  <br /></td></tr>
<tr class="separator:a0e8497b08c7790ecfffee126b043b532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91cf2cfd830b79a225d5c62a0da9ef5"><td class="memItemLeft" align="right" valign="top">resultCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#aa91cf2cfd830b79a225d5c62a0da9ef5">atcmd_getResult</a> ()</td></tr>
<tr class="memdesc:aa91cf2cfd830b79a225d5c62a0da9ef5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the atCmd result code or 0 if command is pending completion.  <br /></td></tr>
<tr class="separator:aa91cf2cfd830b79a225d5c62a0da9ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae1624ecec233ebff89cf715520852d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a7ae1624ecec233ebff89cf715520852d">atcmd_getRawResponse</a> ()</td></tr>
<tr class="memdesc:a7ae1624ecec233ebff89cf715520852d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the atCmd parsed response (preamble to finale) if completed. An empty C-string will return prior to completion.  <br /></td></tr>
<tr class="separator:a7ae1624ecec233ebff89cf715520852d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29da0e81404893c31c9d4e4e3a5d6067"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a29da0e81404893c31c9d4e4e3a5d6067">atcmd_getResponse</a> ()</td></tr>
<tr class="memdesc:a29da0e81404893c31c9d4e4e3a5d6067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the string captured from the last command response with prefixing white-space and any preamble removed.  <br /></td></tr>
<tr class="separator:a29da0e81404893c31c9d4e4e3a5d6067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27940a322eb2239f54ca8c81c4c89af0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a27940a322eb2239f54ca8c81c4c89af0">atcmd_getPreambleFound</a> ()</td></tr>
<tr class="memdesc:a27940a322eb2239f54ca8c81c4c89af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the last atCmd response contained a requested preamble. If no preamble specified will return false.  <br /></td></tr>
<tr class="separator:a27940a322eb2239f54ca8c81c4c89af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf444358890a89e1bcb0bc19dba1255"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#acbf444358890a89e1bcb0bc19dba1255">atcmd_getValue</a> ()</td></tr>
<tr class="memdesc:acbf444358890a89e1bcb0bc19dba1255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the atCmd result value.  <br /></td></tr>
<tr class="separator:acbf444358890a89e1bcb0bc19dba1255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260b6b6d2ec220aec1cd774dcc482c18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a260b6b6d2ec220aec1cd774dcc482c18">atcmd_getParserResult</a> ()</td></tr>
<tr class="memdesc:a260b6b6d2ec220aec1cd774dcc482c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the atCmd parser result code, 0xFFFF or cmdParseRslt_pending if command is pending completion.  <br /></td></tr>
<tr class="separator:a260b6b6d2ec220aec1cd774dcc482c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7750eee81229577ba60a018e419e7e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a8b7750eee81229577ba60a018e419e7e">atcmd_getErrorDetail</a> ()</td></tr>
<tr class="memdesc:a8b7750eee81229577ba60a018e419e7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the BGx reported CME/CMS error code. Use this function to get details on a resultCode_t = 500.  <br /></td></tr>
<tr class="separator:a8b7750eee81229577ba60a018e419e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f23ddaa6c3600110a8dbe38c107102a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a5f23ddaa6c3600110a8dbe38c107102a">atcmd_getErrorDetailCode</a> ()</td></tr>
<tr class="memdesc:a5f23ddaa6c3600110a8dbe38c107102a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the BGx reported CME/CMS error code as a numeric value.  <br /></td></tr>
<tr class="separator:a5f23ddaa6c3600110a8dbe38c107102a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755fe5f62da184a14a80971e1c8e90a0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a755fe5f62da184a14a80971e1c8e90a0">atcmd_getDuration</a> ()</td></tr>
<tr class="memdesc:a755fe5f62da184a14a80971e1c8e90a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the atCmd last execution duration in milliseconds.  <br /></td></tr>
<tr class="separator:a755fe5f62da184a14a80971e1c8e90a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9151ae79098ea2379de42f180114825"><td class="memItemLeft" align="right" valign="top"><a id="ac9151ae79098ea2379de42f180114825" name="ac9151ae79098ea2379de42f180114825"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>atcmd_exitDataMode</b> ()</td></tr>
<tr class="memdesc:ac9151ae79098ea2379de42f180114825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends +++ sequence to transition BGx out of data mode to command mode. <br /></td></tr>
<tr class="separator:ac9151ae79098ea2379de42f180114825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3742317e3225c92af7b6487aee1c3f38"><td class="memItemLeft" align="right" valign="top"><a id="a3742317e3225c92af7b6487aee1c3f38" name="a3742317e3225c92af7b6487aee1c3f38"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>atcmd_exitTextMode</b> ()</td></tr>
<tr class="memdesc:a3742317e3225c92af7b6487aee1c3f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends ESC character to ensure BGx is not in text mode ("&gt;" prompt awaiting ^Z/ESC, MQTT publish etc.). <br /></td></tr>
<tr class="separator:a3742317e3225c92af7b6487aee1c3f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a258e1580c6a67eac1cd090603c912"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#a98a258e1580c6a67eac1cd090603c912">atcmd_stdResponseParser</a> (const char *preamble, bool preambleReqd, const char *delimiters, uint8_t tokensReqd, uint8_t valueIndx, const char *finale, uint16_t lengthReqd)</td></tr>
<tr class="memdesc:a98a258e1580c6a67eac1cd090603c912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets atCmd struct and optionally releases lock, a BGx AT command structure.  <br /></td></tr>
<tr class="separator:a98a258e1580c6a67eac1cd090603c912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe561361875acf197304759838af23a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ltemc-atcmd_8h.html#aabe561361875acf197304759838af23a">ATCMD_testResponseTrace</a> ()</td></tr>
<tr class="memdesc:aabe561361875acf197304759838af23a"><td class="mdescLeft">&#160;</td><td class="mdescRight">LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-user applications.  <br /></td></tr>
<tr class="separator:aabe561361875acf197304759838af23a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><hr  />
<dl class="section author"><dt>Author</dt><dd>Greg Terrell, LooUQ Incorporated</dd></dl>
<p><b>LooUQ Incorporated</b><br  />
<a href="#" onclick="location.href='mai'+'lto:'+'ans'+'we'+'rs@'+'lo'+'ouq'+'.c'+'om'; return false;">answe<span class="obfuscator">.nosp@m.</span>rs@l<span class="obfuscator">.nosp@m.</span>oouq.<span class="obfuscator">.nosp@m.</span>com</a><br  />
807 Airport Access Road, Suite 201, Traverse City, MI 49686 USA<br  />
<br  />
Copyright (c) 2020-2023 LooUQ Incorporated.<br  />
This project is released under the GPL-3.0 License.</p>
<hr  />
 <pre class="fragment">This project is released under the GPL-3.0 License.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a0e8497b08c7790ecfffee126b043b532" name="a0e8497b08c7790ecfffee126b043b532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8497b08c7790ecfffee126b043b532">&#9670;&#160;</a></span>atcmd_awaitResultWithOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resultCode_t atcmd_awaitResultWithOptions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeoutMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cmdResponseParser_func&#160;</td>
          <td class="paramname"><em>cmdResponseParser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for atcmd result, periodically checking recv buffer for valid response until timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeoutMS</td><td>Time to wait for command response (0==no change). </td></tr>
    <tr><td class="paramname">cmdResponseParser</td><td>If provided sets parser as the response parser (NULL==no change). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a755fe5f62da184a14a80971e1c8e90a0" name="a755fe5f62da184a14a80971e1c8e90a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a755fe5f62da184a14a80971e1c8e90a0">&#9670;&#160;</a></span>atcmd_getDuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t atcmd_getDuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the atCmd last execution duration in milliseconds. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of milliseconds. If the command timed out this will be approximately timeout value. </dd></dl>

</div>
</div>
<a id="a8b7750eee81229577ba60a018e419e7e" name="a8b7750eee81229577ba60a018e419e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b7750eee81229577ba60a018e419e7e">&#9670;&#160;</a></span>atcmd_getErrorDetail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atcmd_getErrorDetail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the BGx reported CME/CMS error code. Use this function to get details on a resultCode_t = 500. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a error value reported by the BGx module. Note that not all BGx errors have a detailed descriptor.</dd></dl>
<p>Returns the BGx reported CME/CMS error code. Use this function to get details on a resultCode_t = 500. </p>

</div>
</div>
<a id="a5f23ddaa6c3600110a8dbe38c107102a" name="a5f23ddaa6c3600110a8dbe38c107102a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f23ddaa6c3600110a8dbe38c107102a">&#9670;&#160;</a></span>atcmd_getErrorDetailCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t atcmd_getErrorDetailCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the BGx reported CME/CMS error code as a numeric value. </p>
<dl class="section return"><dt>Returns</dt><dd>Numeric CM* error code, 999 otherwise. </dd></dl>

</div>
</div>
<a id="a260b6b6d2ec220aec1cd774dcc482c18" name="a260b6b6d2ec220aec1cd774dcc482c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a260b6b6d2ec220aec1cd774dcc482c18">&#9670;&#160;</a></span>atcmd_getParserResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a> atcmd_getParserResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the atCmd parser result code, 0xFFFF or cmdParseRslt_pending if command is pending completion. </p>
<dl class="section return"><dt>Returns</dt><dd>The PARSER result from the last interation of the parser execution. This is generally not applicable to end-user applications. </dd></dl>

</div>
</div>
<a id="a27940a322eb2239f54ca8c81c4c89af0" name="a27940a322eb2239f54ca8c81c4c89af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27940a322eb2239f54ca8c81c4c89af0">&#9670;&#160;</a></span>atcmd_getPreambleFound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool atcmd_getPreambleFound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the last atCmd response contained a requested preamble. If no preamble specified will return false. </p>
<dl class="section return"><dt>Returns</dt><dd>True if preamble string was detected in the AT command response</dd></dl>
<p>Returns true if the last atCmd response contained a requested preamble. If no preamble specified will return false. </p>

</div>
</div>
<a id="a7ae1624ecec233ebff89cf715520852d" name="a7ae1624ecec233ebff89cf715520852d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae1624ecec233ebff89cf715520852d">&#9670;&#160;</a></span>atcmd_getRawResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atcmd_getRawResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the atCmd parsed response (preamble to finale) if completed. An empty C-string will return prior to completion. </p>
<dl class="section return"><dt>Returns</dt><dd>Char pointer to the command response (note: this is stripped of preamble and finale strings)</dd></dl>
<p>Returns the atCmd parsed response (preamble to finale) if completed. An empty C-string will return prior to completion. </p>

</div>
</div>
<a id="a29da0e81404893c31c9d4e4e3a5d6067" name="a29da0e81404893c31c9d4e4e3a5d6067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29da0e81404893c31c9d4e4e3a5d6067">&#9670;&#160;</a></span>atcmd_getResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atcmd_getResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the string captured from the last command response with prefixing white-space and any preamble removed. </p>
<dl class="section return"><dt>Returns</dt><dd>Char pointer to the command response (note: this is stripped of preamble and finale strings) </dd></dl>

</div>
</div>
<a id="aa91cf2cfd830b79a225d5c62a0da9ef5" name="aa91cf2cfd830b79a225d5c62a0da9ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91cf2cfd830b79a225d5c62a0da9ef5">&#9670;&#160;</a></span>atcmd_getResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resultCode_t atcmd_getResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the atCmd result code or 0 if command is pending completion. </p>
<dl class="section return"><dt>Returns</dt><dd>HTTP style result code.</dd></dl>
<p>Returns the atCmd result code or 0 if command is pending completion. </p>

</div>
</div>
<a id="acbf444358890a89e1bcb0bc19dba1255" name="acbf444358890a89e1bcb0bc19dba1255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf444358890a89e1bcb0bc19dba1255">&#9670;&#160;</a></span>atcmd_getValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t atcmd_getValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the atCmd result value. </p>
<dl class="section return"><dt>Returns</dt><dd>If the parser was instructed to capture a value (see <a class="el" href="ltemc-atcmd_8h.html#a98a258e1580c6a67eac1cd090603c912" title="Resets atCmd struct and optionally releases lock, a BGx AT command structure.">atcmd_stdResponseParser()</a>) the signed integer value found</dd></dl>
<p>Returns the atCmd result value. </p>

</div>
</div>
<a id="a2c759a85f8659aa37ab78784ebd691e6" name="a2c759a85f8659aa37ab78784ebd691e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c759a85f8659aa37ab78784ebd691e6">&#9670;&#160;</a></span>atcmd_invokeReuseLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atcmd_invokeReuseLock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmdTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes a BGx AT command without acquiring a lock, using previously set setOptions() values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdStrTemplate</td><td>[in] The command string to send to the BG96 module. </td></tr>
    <tr><td class="paramname">...</td><td>[in] Variadic parameter list to integrate into the cmdStrTemplate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6564b7b17223a1e581beef02914406dc" name="a6564b7b17223a1e581beef02914406dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6564b7b17223a1e581beef02914406dc">&#9670;&#160;</a></span>atcmd_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atcmd_reset </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>releaseLock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets atCmd struct and optionally releases lock, a BGx AT command structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">releaseLock</td><td>[in] If false, clears ATCMD internal state, but leaves the command lock state unchanged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84f840a308983f46590c9df6d1860c33" name="a84f840a308983f46590c9df6d1860c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f840a308983f46590c9df6d1860c33">&#9670;&#160;</a></span>atcmd_restoreOptionDefaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void atcmd_restoreOptionDefaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset AT command options to defaults. </p>
<p>Use after setOptions() to reset AT-Cmd behaviors to default settings. </p>

</div>
</div>
<a id="ad19d2388cd6d4423be873314968de031" name="ad19d2388cd6d4423be873314968de031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19d2388cd6d4423be873314968de031">&#9670;&#160;</a></span>atcmd_sendCmdData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atcmd_sendCmdData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dataSz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs blind send data transfer to device. </p>
<p>ASSERTS atcmd lock; does not change lock state. This is a blocking function (no copy), returns when send count = 0. Intended to send blocks of text in middle of a command stream. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>[in] Pointer to the block of character data to send </td></tr>
    <tr><td class="paramname">dataSz</td><td>[in] The size of the data block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12f91584f62bec59a930301de9d7956f" name="a12f91584f62bec59a930301de9d7956f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f91584f62bec59a930301de9d7956f">&#9670;&#160;</a></span>atcmd_setDataHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void atcmd_setDataHandler </td>
          <td>(</td>
          <td class="paramtype">streamDataRcvr_func&#160;</td>
          <td class="paramname"><em>dataReceiver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set/clear stream data receiver function. </p>
<p>Individual commands (ex: <a class="el" href="ltemc-filesys_8c.html#aa0adfb24daccbfc7d50af35b77da32b5" title="Closes the file.">file_read()</a> could initiate a data stream, this function allows the command to register the required handler.</p>
<p>Set/clear stream data receiver function. </p>

</div>
</div>
<a id="a98a258e1580c6a67eac1cd090603c912" name="a98a258e1580c6a67eac1cd090603c912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a258e1580c6a67eac1cd090603c912">&#9670;&#160;</a></span>atcmd_stdResponseParser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a> atcmd_stdResponseParser </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pPreamble</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preambleReqd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDelimeters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tokensReqd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>valueIndx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pFinale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lengthReqd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets atCmd struct and optionally releases lock, a BGx AT command structure. </p>
<p>LTEmC internal function, not static as it is used by several LTEmC modules Some AT-cmds will omit preamble under certain conditions; usually indicating an empty response (AT+QIACT? == no PDP active). Note: If no stop condition is specified, finale, tokensReqd, and lengthReqd are all omitted, the parser will return with the first block of characters received. The "value" and "response" variables are cached internally to the atCmd structure and can be retrieved with <a class="el" href="ltemc-atcmd_8h.html#acbf444358890a89e1bcb0bc19dba1255" title="Returns the atCmd result value.">atcmd_getValue()</a> and <a class="el" href="ltemc-atcmd_8h.html#a29da0e81404893c31c9d4e4e3a5d6067" title="Returns the string captured from the last command response with prefixing white-space and any preambl...">atcmd_getResponse()</a> functions respectively. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">preamble</td><td>- C-string containing the expected phrase that starts response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preambleReqd</td><td>- True to require the presence of the preamble for a SUCCESS response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delimiters</td><td>- (optional: ""=N/A) C-string containing the expected delimiter between response tokens. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tokensReqd</td><td>- (optional: 0=N/A, 1=first) The minimum count of tokens between preamble and finale for a SUCCESS response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valueIndx</td><td>- (optional: 0=N/A, 1=first) Indicates the 1-n position (chars/tokens) of an integer value to grab from the response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">finale</td><td>- (optional: ""=finale not required) C-string containing the expected phrase that concludes response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lengthReqd</td><td>- (optional: 0=N/A) The minimum character count between preamble and finale for a SUCCESS response. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Parse status result</dd></dl>
<p>Resets atCmd struct and optionally releases lock, a BGx AT command structure. </p>

</div>
</div>
<a id="aabe561361875acf197304759838af23a" name="aabe561361875acf197304759838af23a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe561361875acf197304759838af23a">&#9670;&#160;</a></span>ATCMD_testResponseTrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ltemc-types_8h.html#a66c4c183f8908a0fe0928ef236dbccce">cmdParseRslt_t</a> ATCMD_testResponseTrace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-user applications. </p>
<dl class="section return"><dt>Returns</dt><dd>Parse status result (always pending for this test parser)</dd></dl>
<p>LTEmC internal testing parser to capture incoming response until timeout. This is generally not used by end-user applications. </p>

</div>
</div>
<a id="a1f90e8d6a28fc9f55520566a869d062a" name="a1f90e8d6a28fc9f55520566a869d062a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f90e8d6a28fc9f55520566a869d062a">&#9670;&#160;</a></span>atcmd_tryInvoke()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool atcmd_tryInvoke </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmdTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes a BGx AT command using default option values (automatic locking). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdStrTemplate</td><td>[in] The command string to send to the BG96 module. </td></tr>
    <tr><td class="paramname">...</td><td>[in] Variadic parameter list to integrate into the cmdStrTemplate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if action was invoked, false if not </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
